{
  
    
        "post0": {
            "title": "Vultr ADT Tutorials",
            "content": "There’s a few options here for learning how to use this toolkit with the Vultr cloudhost. . 1. Expedited Build Method (recommended) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 2. Hardcore Build Method (expert) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 3. The Full Build Method (interactively guided) . Tutorial Set 1 : (Full Build) .",
            "url": "https://www.codebreakers.uk/adtvultrtutorials/",
            "relUrl": "/adtvultrtutorials/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post1": {
            "title": "Vultr ADT Tutorials Hardcore Virgin Joomla",
            "content": "HARDCORE BUILD PROCESS . On your laptop perform the following command: | git clone https://github.com/agile-deployer/agile-infrastructure-build-client-scripts.git . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . This tutorial will deploy the latest version of Joomla using template 1 which you can read about here with the clone you have just made onto your laptop: . ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.description and the hardcore method. . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . You then need a Vultr Personal Access Token, so, go to the menu on the left of your Vultr gui system and click “API” then Select “Tokens” and from there you can generate a Personal Access Token and record it in a separate text file. . vultr_token_compute=&quot;AAAAA&quot; where AAAAA are the actual values generated when I click &quot;Generate Token&quot; . I then need a set of Spaces access keys so, I go to the “API” option on my vultr dashboard and generate a set of “Spaces” keys. In my separate text file, I record: . vultr_access_key_s3=&quot;BBBBB&quot; where BBBBB and CCCCC are the actual values generated when I click &quot;Generate Token&quot; vultr_secret_key_s3=&quot;CCCCC&quot; . . You now need to make a note of the email address that you have registered with your vultr account: . vultr_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to vultr as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . vultr_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them ./agile-deployer/agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/DeployingSMTPService.md. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, to begin an hardcore build process, I need to: . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.vultrspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For vultr, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #MANDATORY export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;vultr&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;vultr&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;vultr&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.tmpl . and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.vultrspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For vultr, this always needs to be set to &quot;US&quot; export TOKEN=&quot;AAAAA&quot; #MANDATORY export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export DNS_CHOICE=&quot;vultr&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;vultr&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;vultr&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . You now need to copy your template as follows: . /bin/mkdir ./agile-infrastructure-build-client-scripts/overridescripts/ /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/vultr1override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . . Now you have your userdata script take a copy of the entirity of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR VULTR MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialshardcorevirgin/",
            "relUrl": "/adtvultrtutorialshardcorevirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post2": {
            "title": "Vultr ADT Tutorials Hardcore Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/vultr2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow [these](https://www.codebreakers.uk/adtvultrtutorialsbuildmachinehardcore) instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR VULTR MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install **AND** run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialshardcoretemporal/",
            "relUrl": "/adtvultrtutorialshardcoretemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post3": {
            "title": "Vultr ADT Tutorials Hardcore Baseline Joomla",
            "content": "HARDCORE BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. If you are using a baseline that someone else has developed or a baseline that you developed some time ago, then you might not have servers running yet. . What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1 if it is available from a previous build, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.tmpl . I can extract the values for the following variables: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl . to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/vultr2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR VULTR MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialshardcorebaseline/",
            "relUrl": "/adtvultrtutorialshardcorebaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post4": {
            "title": "Vultr ADT Tutorials Full Build",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Vultr cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . FULL BUILD PROCESS . To begin with you will need to have prepared, as a mimimum, for a Joomla interactive build the following information: . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a set of compute access keys so, I go to the IAM option on my vultr dashboard and generate an IAM key with compute access. In my separate text file, I record: . vultr_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Add Key&quot; vultr_secret_key_compute=&quot;YYYYY&quot; . I then need a set of Object Storage (S3) access keys so, I go to the IAM option on my vultr dashboard and generate an IAM key with S3 access. In my separate text file, I record: . vultr_access_key_s3=&quot;AAAAA&quot; where AAAAA and BBBBB are the actual values generated when I click &quot;Add Key&quot; vultr_secret_key_s3=&quot;BBBBB&quot; . I then need a set of DNS access keys so, I go to the IAM option on my vultr dashboard and generate an IAM key with DNS access. In my separate text file, I record: . vultr_access_key_dns=&quot;CCCCC&quot; where CCCCC and DDDDD are the actual values generated when I click &quot;Add Key&quot; vultr_secret_key_dns=&quot;DDDDD&quot; . NOTE: Alternatively you could generate one set of IAM keys and give that one set all three permissions, Compute, DNS and S3. You wouldn’t have to juggle three set of keys then and could use the same key pair in all three cases. . . You now need to make a note of the email address that you have registered with your vultr account: . vultr_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to vultr as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . vultr_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . THE ACTUAL BUILD . The full build process is interactive and guided so you need to answer the questions it posits when it posits them to perform a full build: . ssh onto the build machine you started in 1. from your laptop. . cd /home/&lt;username&gt;/agile-infrastructure-build-client-scripts/ . /bin/sh AgileDeploymentToolkit.sh . Once you run this script you will prompted to enter various credentials as required. .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialsfullbuild/",
            "relUrl": "/adtvultrtutorialsfullbuild/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post5": {
            "title": "Vultr ADT Tutorials Expedited Virgin",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Vultr cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . This will deploy the latest version of Joomla using template 1 which you can read about here: template 1 and the expedited method. . If you have followed these steps your build machine is online and secured and you have an SSH session open to it from your laptop through which to initiate your build processes. . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . You then need a Digital Ocean Personal Access Token, so, go to the menu on the left of your Digital Ocean gui system and click “API” then Select “Tokens” and from there you can generate a Personal Access Token. . vultr_token_compute=&quot;AAAAA&quot; where AAAAA are the actual values generated when I click &quot;Generate Token&quot; . I then need a set of Spaces access keys so, I go to the “API” option on my vultr dashboard and generate a set of “Spaces” keys. In my separate text file, I record: . vultr_access_key_s3=&quot;BBBBB&quot; where BBBBB and CCCCC are the actual values generated when I click &quot;Generate Token&quot; vultr_secret_key_s3=&quot;CCCCC&quot; . . You now need to make a note of the email address that you have registered with your vultr account: . vultr_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to vultr as described here . vultr_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them here. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, at the command line of my build machine that we spun up earlier: . My chosen username is “agile-deployer” . So, to begin an expedited build process, I need to: . cd /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr . Then we can open up the . vi vultr1.tmpl . This file looks like this (I have put dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.vultrspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For vultr, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;vultr&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;vultr&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;vultr&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.tmpl and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.vultrspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For vultr, this always needs to be set to &quot;US&quot; export TOKEN=&quot;AAAAA&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export DNS_CHOICE=&quot;vultr&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;vultr&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;vultr&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . . You should now be at a point where your build machine is running and configured ready to deploy Joomla in a virgin (or uncustomised) configuration. I will show you what this will likely look like in a video: . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialsexpeditedvirgin/",
            "relUrl": "/adtvultrtutorialsexpeditedvirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post6": {
            "title": "Vultr ADT Tutorials Expedited Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialsexpeditedtemporal/",
            "relUrl": "/adtvultrtutorialsexpeditedtemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post7": {
            "title": "Vultr ADT Tutorials Expedited Baseline Joomla",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Vultr cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.tmpl . I can extract the values for the following variables: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . With your baseline template fully configured, you are now ready to perform a baseline build (in other words, directly install a live application starting from zilch). That will look something like the following: . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialsexpeditedbaseline/",
            "relUrl": "/adtvultrtutorialsexpeditedbaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post8": {
            "title": "Vultr ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR HARDCORE BUILDS: . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take on your laptop, take a copy of your userdata script that you should have previously generated from . ${BUILD_HOME}/agile-infrastructure-build-client-scripts/userdatascripts/${userdatascript}) . where ${userdatascript} is the name you have given to your userdata script. .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a firewall for your build machine. You can do this by creating a firewall on this page:     . Click on the Networking main option and the “firewalls” sub option of your vultr GUI .     Click “Create Firewall” and call it PRECISELY “adt-build-machine”. Remove all inbound rules and keep the outbound rules as they are set .     You can then see your new security Group “adt-build-machine” listed .     ——————–. . 6) Add rules to the “adt-build-machine” firewall to allow pinging and your build client to connect. . So you will need to add 2 rules . 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with “CIDR 111.111.111.111/32 1035” . You can see in this image that port 1035 is about to be opened up to the ip address of my laptop 111.111.111.111/32 .     . . 7) You need to spin up a small machine to be your build machine by clicking “Create Droplet” on the top right of the GUI. And then follow these steps: . 1. Select which template you want debian 10 (or later) or ubuntu 20.04 (or later) 2. Select which region you want to deploy to, for example, london 3. Select instance size &quot;1GB&quot; for example 4. Attach your SSH KEY 5. In the &quot;User Data&quot; area of your VPC machine, paste the entire script that you were left with from 4. 6. Click Create and wait for your machine to build 7. Once the machine has built, go to &quot;networking&quot; -&gt; &quot;firewalls&quot; and select &quot;adt-build-machine&quot; firewall and add your new droplet to the firewall . Graphically you can see what I have described in these 8 steps here: .       . .       . . 8) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the Vultr GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . In Graphical form, it looks like this: .     . Grab your build machine’s IP address (second column) .     . Run through the commands as shown on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialsbuildmachinehardcore/",
            "relUrl": "/adtvultrtutorialsbuildmachinehardcore/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post9": {
            "title": "Vultr ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR EXPEDITED AND FULL BUILDS: . Before performing an expedited or full build, you need to set up a build machine. The way you do this for Vultr is as follows: . . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take a copy of the script: Initial Script .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a firewall for your build machine. You can do this by creating a firewall on this page:     . Click on the Networking main option and the “firewalls” sub option of your vultr GUI .     Click “Create Firewall” and call it PRECISELY “adt-build-machine”. Remove all inbound rules and keep the outbound rules as they are set .     You can then see your new firewall “adt-build-machine” listed .     ——————- . 6) Add rules to the “adt-build-machine” firewall to allow pinging and your build client to connect. . So you will need to add 2 rules . 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with “CIDR 111.111.111.111/32 1035” . You can see in this image that port 1035 is about to be opened up to the ip address of my laptop 111.111.111.111/32 .     . . 7) You need to spin up a small machine to be your build machine by clicking “Create Droplet” on the top right of the GUI. And then follow these steps: . 1. Select which template you want debian 10 (or later) or ubuntu 20.04 (or later) 2. Select which region you want to deploy to, for example, london 3. Select instance size &quot;1GB&quot; for example 4. Attach your SSH KEY 5. In the &quot;User Data&quot; area of your VPC machine, paste the entire script that you were left with from 4. 6. Click Create and wait for your machine to build 7. Once the machine has built, go to &quot;networking&quot; -&gt; &quot;firewalls&quot; and select &quot;adt-build-machine&quot; firewall and add your new droplet to the firewall . Graphically you can see what I have described in these 8 steps here: .       . .       . . 8) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the Vultr GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . In Graphical form, it looks like this: .     . Grab your build machine’s IP address (second column) .     . Run through the commands as shown below on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtvultrtutorialsbuildmachineexpedited/",
            "relUrl": "/adtvultrtutorialsbuildmachineexpedited/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post10": {
            "title": "Template 3",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr3.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a temporal deployment of a CMS, in this case Joomla, on the Vultr provider) . export APPLICATION=”wordpress” #MANDATORY joomla, wordpress, drupal or moodle export BUILD_CHOICE=”2” #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=”hourly” #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export APPLICATION_IDENTIFIER=”2” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY The directories of dynamic assets in your webroot that will be stored in S3 export S3_ACCESS_KEY=”jnsdjnefjnwefijnwefojnweflnwef” #MANDATORY export S3_SECRET_KEY=”23eo2eonwefoinewrfoin2eoin23roi23rpim23oknwefon” #MANDATORY export S3_HOST_BASE=”ewr1.vultrobjects.com” #MANDATORY export S3_LOCATION=”US” #For vultr, this always needs to be set to “US” export TOKEN=”ojnwefijn23roin243foin23ofn2eofin2eofn2eofinoin2fon” #MANDATORY this is your vultr personal access token export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflaremail.tld” #MANDATORY - the email address you registered for cloudflare with export DNS_SECURITY_KEY=”ownmefoin3foin32efoip2efoin243rgonron2epi” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhost.tld” #MANDATORY - the email address you registered for your cloudhost with export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - This should always be ‘root’ on vultr export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY Make sure these 5 settings match where your backups is stored with your git provider export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_wiejnfwiefnwiuenfijnwefkn” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”oinwjefonef9unwefijnqdijnqwd” #MANDATORY export SYSTEM_EMAIL_PASSWORD=”iwnefijnwefiun2efiun2qdfoiqwwofinwoefnonwefinefin” #MANDATORY export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”1” export DEVELOPMENT=”0” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NO_AUTOSCALERS=”1” export NUMBER_WS=”2” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BASELINE_DB_REPOSITORY=”” export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”lhr” export DB_SIZE=”vc2-1c-1gb” export DB_SERVER_TYPE=”vc2-1c-1gb” export WS_SIZE=”vc2-1c-1gb” export WS_SERVER_TYPE=”vc2-1c-1gb” export AS_SIZE=”vc2-1c-1gb” export AS_SERVER_TYPE=”vc2-1c-1gb” export CLOUDHOST=”vultr” export MACHINE_TYPE=”VULTR” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”vultr” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export WSIP=”” export WSIP_PRIVATE=”” export DBIP=”” export DBIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export DNS_REGION=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/vultrtemplate3/",
            "relUrl": "/vultrtemplate3/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post11": {
            "title": "Template 2",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr2.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a baseline deployment of a CMS, in this case Joomla, on the Vultr provider) . export APPLICATION=”wordpress” #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=”2” #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=”wordydemo-db-baseline” #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”wordydemo-webroot-sourcecode-baseline” #MANDATORY export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY MAKE SURE THESE 5 APPLICATION_* settings are correct for where your application repositories are. export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_jwnfjnwfijwqeefijnwe” #MANDATORY export S3_ACCESS_KEY=”JDHJhi3unefijnwdijnijnefij” #MANDATORY export S3_SECRET_KEY=”DXJnijnewiojnwefonwefojnwefojnwefonwefjnijnwewsd” #MANDATORY export S3_HOST_BASE=”ewr1.vultrobjects.com” #MANDATORY export S3_LOCATION=”US” #For vultr, this always needs to be set to “US” export TOKEN=”jinwdfijnweofwfiwjnefijnwefijnwefijnjnwijnwef” #MANDATORY this is your vultr personal API key export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflareemail.tld” #MANDATORY - the email address you registered for cloudflare with export DNS_SECURITY_KEY=”oiwnefiojnwefune3fiun0i2oi423ioun3f” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY the email address you registered for your cloudhost with export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - This should always be ‘root’ on vultr export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY - AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”oidwnfojnefiunefinin” #MANDATORY AWS SES USERNAME export SYSTEM_EMAIL_PASSWORD=”kjwdnfijnf9u3fijnwefnjqweifhbefnef” #MANDATORY AWS SES PASSWORD export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”0” export DEVELOPMENT=”1” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NUMBER_WS=”1” export NO_AUTOSCALERS=”1” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BUILD_CHOICE=”1” #MANDATORY export BUILD_ARCHIVE_CHOICE=”baseline” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”lhr” export DB_SIZE=”vc2-1c-1gb” export DB_SERVER_TYPE=”vc2-1c-1gb” export WS_SIZE=”vc2-1c-1gb” export WS_SERVER_TYPE=”vc2-1c-1gb” export AS_SIZE=”vc2-1c-1gb” export AS_SERVER_TYPE=”vc2-1c-1gb” export CLOUDHOST=”vultr” export MACHINE_TYPE=”VULTR” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”vultr” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/vultrtemplate2/",
            "relUrl": "/vultrtemplate2/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post12": {
            "title": "Template 1",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/vultr/vultr1.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a virgin deployment of a CMS, in this case Joomla, on the Vultr provider) . export APPLICATION=”joomla” #MANDATORY export JOOMLA_VERSION=”4.1.2” #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to “” if you are deploying anything but joomla export DRUPAL_VERSION=”9.2.1” #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to “” if you are deploying anything but drupal export APPLICATION_IDENTIFIER=”1” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”JOOMLA:4.1.2” #MANDATORY export S3_ACCESS_KEY=”HDBHiuefiuhwDIjnhdekjn” #MANDATORY export S3_SECRET_KEY=”UJDWjndwejnefinefjnefjn3eoiun23einefjnefijnwf” #MANDATORY export S3_HOST_BASE=”ewr1.vultrobjects.com” #MANDATORY export S3_LOCATION=”US” #For vultr, this always needs to be set to “US” export TOKEN=”uUwdinwdiunqwidnefiu3riu1ewdn2eiuf2eifub2eifbiqnwdf” #MANDATORY this is your vultr personal access token export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflaremail.tld” #MANDATORY - the email address you used to register with cloudflare export DNS_SECURITY_KEY=”Jjfdeo2eroij23irun2eifunb2ef0io3frn” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - This should always be ‘root’ on vultr export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_ibwefiue9ufeiwufwqie9ufhw9uehfiuhqwf” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY - 3 = AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”iuhwefiuhwdfihwqefi” #MANDATORY AWS SES Username export SYSTEM_EMAIL_PASSWORD=”i1inqwefiuhwqefiuhwefiuhwefiuhwefi” #MANDATORY AWS SES password export DIRECTORIES_TO_MOUNT=”” #This should always be unset for a virgin deployments export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export PRODUCTION=”0” export DEVELOPMENT=”1” export BUILD_CHOICE=”0” export WEBSERVER_CHOICE=”APACHE” export NO_AUTOSCALERS=”1” export NUMBER_WS=”1” export SUPERSAFE_WEBROOT=”1” export SUPERSAFE_DB=”1” export DATABASE_INSTALLATION_TYPE=”MySQL” export PERSIST_ASSETS_TO_CLOUD=”0” #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=”0” export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export BASELINE_DB_REPOSITORY=”VIRGIN” export BUILD_ARCHIVE_CHOICE=”virgin” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”lhr” export DB_SIZE=”vc2-1c-1gb” export DB_SERVER_TYPE=”vc2-1c-1gb” export WS_SIZE=”vc2-1c-1gb” export WS_SERVER_TYPE=”vc2-1c-1gb” export AS_SIZE=”vc2-1c-1gb” export AS_SERVER_TYPE=”vc2-1c-1gb” export CLOUDHOST=”vultr” export MACHINE_TYPE=”VULTR” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailZ123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”vultr” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export DBIP=”” export DBIP_PRIVATE=”” export WSIP=”” export WSIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/vultrtemplate1/",
            "relUrl": "/vultrtemplate1/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post13": {
            "title": "Template 3",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode3.tmpl on my build machine . This is how your template should look (obviously with your own values if you are making a temporal (weekly) deployment of a CMS, in this case Wordpress, on the Linode provider) . export APPLICATION=”wordpress” #MANDATORY joomla, wordpress, drupal or moodle export LINODEACCOUNT_USERNAME=”user123” #MANDATORY export BUILD_CHOICE=”4” #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=”weekly” #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export APPLICATION_IDENTIFIER=”2” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY The directories of dynamic assets in your webroot that will be stored in S3 export S3_ACCESS_KEY=”ijndf9un3fiunvijn” #MANDATORY export S3_SECRET_KEY=”iunfi9unrviunerigun3rgvi9unvqwdf913r” #MANDATORY export S3_HOST_BASE=”eu-central-1.linodeobjects.com” #MANDATORY export S3_LOCATION=”US” #For linode, this always needs to be set to “US” export TOKEN=”inqwviun13riubn1rweib149un31fiun134f9un13fwqf” #MANDATORY this is your linode personal access token export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”ijndviu13rfin” #MANDATORY export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflare.tld” #MANDATORY your cloudflare account email address export DNS_SECURITY_KEY=”inqdf9u13rgfinqweijn9u31nrvijnqwef” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhost.tld” #MANDATORY your cloudhost account email address export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - This should always be ‘root’ on linode export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY Make sure these 5 settings match where your backups is stored with your git provider export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_kndviun3rf9g3iunwe9fef9uhefv9uwev9ue9u” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY - 3=AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”iiwfij2ref9u3fijnqwdfijn” #MANDATORY AWS SES USERNAME export SYSTEM_EMAIL_PASSWORD=”iwuenf9uqnwev9un2qerv9un3rf9uin139iwef9u1344” #MANDATORY AWS SES PASSWORD export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”1” export DEVELOPMENT=”0” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NO_AUTOSCALERS=”1” export NUMBER_WS=”2” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BASELINE_DB_REPOSITORY=”” export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”eu-central” export DB_SIZE=”g6-nanode-1” export DB_SERVER_TYPE=”g6-nanode-1” export WS_SIZE=”g6-nanode-1” export WS_SERVER_TYPE=”g6-nanode-1” export AS_SIZE=”g6-nanode-1” export AS_SERVER_TYPE=”g6-nanode-1” export CLOUDHOST=”linode” export MACHINE_TYPE=”LINODE” export ALGORITHM=”rsa” export USER=”root” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”linode” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export WSIP=”” export WSIP_PRIVATE=”” export DBIP=”” export DBIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export DNS_REGION=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” #find image id using: linode-cli images list from the command line export AUTOSCALER_IMAGE_ID=”” #find image id using: linode-cli images list from the command line export DATABASE_IMAGE_ID=”” #find image id using: linode-cli images list from the command line export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/linodetemplate3/",
            "relUrl": "/linodetemplate3/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post14": {
            "title": "Template 2",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl on my build machine . This is how your template should look (obviously with your own values if you are making a baseline deployment of a CMS, in this case Wordpress, on the Linode provider) . export APPLICATION=”wordpress” #MANDATORY (joomla or wordpress or drupal or moodle) export LINODEACCOUNT_USERNAME=”user123” #MANDATORY export APPLICATION_IDENTIFIER=”1” #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=”nuocialboss-db-baseline” #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”nuocialboss-webroot-sourcecode-baseline” #MANDATORY export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY MAKE SURE THESE 5 APPLICATION_* settings are correct for where your application repositories are. export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_iwdnv9ufiubefvijnwdbin2ef” #MANDATORY export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”owndiu2kjnc” #MANDATORY export S3_ACCESS_KEY=”DIIJNDFio2ejinDON2dn” #MANDATORY export S3_SECRET_KEY=”onwofcinw0o2foknwevoknmqwefpomqweofkm” #MANDATORY export S3_HOST_BASE=”eu-central-1.linodeobjects.com” #MANDATORY export S3_LOCATION=”US” #For linode, this always needs to be set to “US” export TOKEN=”onwdvoin24oin24efoinervoineonqevoinjnwefo23” #MANDATORY this is your linode personal API key export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflaremail.tld” #MANDATORY the email address you registered for cloudflare with export DNS_SECURITY_KEY=”iojnw9u2gfunwdvijnwrvinqwrekwqdvijner3g93inrvijn” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhost.tld” #MANDATORY the email address you registered for your cloudhost with export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - This should always be ‘root’ on linode export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY 3=AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”9ijnwefijnoir4392ifoinwef” #MANDATORY export SYSTEM_EMAIL_PASSWORD=”owndvoinqervg9oinqer9gin3rognqeroinqweoifj” #MANDATORY export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”0” export DEVELOPMENT=”1” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NUMBER_WS=”1” export NO_AUTOSCALERS=”1” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BUILD_CHOICE=”1” #MANDATORY export BUILD_ARCHIVE_CHOICE=”baseline” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”eu-central” export DB_SIZE=”g6-nanode-1” export DB_SERVER_TYPE=”g6-nanode-1” export WS_SIZE=”g6-nanode-1” export WS_SERVER_TYPE=”g6-nanode-1” export AS_SIZE=”g6-nanode-1” export AS_SERVER_TYPE=”g6-nanode-1” export CLOUDHOST=”linode” export MACHINE_TYPE=”LINODE” export ALGORITHM=”rsa” export USER=”root” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”linode” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/linodetemplate2/",
            "relUrl": "/linodetemplate2/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post15": {
            "title": "Template 1",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a virgin deployment of a CMS, in this case Joomla, on the Linode provider) . export APPLICATION=”joomla” #MANDATORY export LINODEACCOUNT_USERNAME=”user123” #MANDATORY export JOOMLA_VERSION=”4.1.2” #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to “” if you are deploying anything but joomla export DRUPAL_VERSION=”” #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to “” if you are deploying anything but drupal export APPLICATION_IDENTIFIER=”1” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”JOOMLA:4.1.2” #MANDATORY export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”denrn3refjecner” #MANDATORY export S3_ACCESS_KEY=”SHhfbSHSYHybfybDHhbSJjJD” #MANDATORY export S3_SECRET_KEY=”dnwjndjchedu3d3unecjwsjSJbdebdeuejndeubn” #MANDATORY export S3_HOST_BASE=”eu-central-1.linodeobjects.com” #MANDATORY export S3_LOCATION=”US” #For linode, this always needs to be set to “US” export TOKEN=”jbdcjdjcbdecuecu3edi2kwdnswmnueuefujbnecnbwcb3uewdjubnewc” #MANDATORY this is your linode personal access token export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflareemail.tld” #MANDATORY - the email address you registered for cloudflare with export DNS_SECURITY_KEY=”iwdnij3f9un34fijnwdjvkneijvn” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhost.tld” #MANDATORY - the email address you registered for linode with export BUILDOS=”ubuntu” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”22.04” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - This should always be ‘root’ on linode export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_nedvuerf913rfiunwervijnwviunerv” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY 3=AWS-SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”SJDJJNJNSJFUJ93eriefdiniDJND” #MANDATORY - AWS SES USERNAME export SYSTEM_EMAIL_PASSWORD=”jnwdcionwdfoinwe9finweofin2irj2oriwekfjuhfp2ef2kmf” #MANDATORY AWS SES PASSWORD export DIRECTORIES_TO_MOUNT=”” #This should always be unset for a virgin deployments export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export PRODUCTION=”0” export DEVELOPMENT=”1” export BUILD_CHOICE=”0” export WEBSERVER_CHOICE=”APACHE” export NO_AUTOSCALERS=”1” export NUMBER_WS=”1” export SUPERSAFE_WEBROOT=”1” export SUPERSAFE_DB=”1” export DATABASE_INSTALLATION_TYPE=”MySQL” export PERSIST_ASSETS_TO_CLOUD=”0” #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=”0” export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export BASELINE_DB_REPOSITORY=”VIRGIN” export BUILD_ARCHIVE_CHOICE=”virgin” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”eu-central” export DB_SIZE=”g6-nanode-1” export DB_SERVER_TYPE=”g6-nanode-1” export WS_SIZE=”g6-nanode-1” export WS_SERVER_TYPE=”g6-nanode-1” export AS_SIZE=”g6-nanode-1” export AS_SERVER_TYPE=”g6-nanode-1” export CLOUDHOST=”linode” export MACHINE_TYPE=”LINODE” export ALGORITHM=”rsa” export USER=”root” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailZ123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”linode” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export DBIP=”” export DBIP_PRIVATE=”” export WSIP=”” export WSIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/linodetemplate1/",
            "relUrl": "/linodetemplate1/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post16": {
            "title": "Template 3",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale3.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a temporal (hourly) deployment of a CMS, in this case Wordpress, on the Exoscale provider) . . export APPLICATION=”wordpress” #MANDATORY joomla, wordpress, drupal or moodle export BUILD_CHOICE=”2” #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=”hourly” #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export APPLICATION_IDENTIFIER=”2” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY The directories of dynamic assets that will be stored in S3 export S3_ACCESS_KEY=”EXOjsdvwerfiowefwdkvjnwdvijnw” #MANDATORY export S3_SECRET_KEY=”jsdu23uerbwdkvbwiuwefiwefkhjweifbweijfbweif” #MANDATORY export S3_HOST_BASE=”sos-ch-gva-2.exo.io” #MANDATORY export S3_LOCATION=”US” #For exoscale, this always needs to be set to “US” export TOKEN=”” #NOT REQUIRED export ACCESS_KEY=”EXOjsdvwerfiowefwdkvjnwdvijnw” #MANDATORY export SECRET_KEY=”jsdu23uerbwdkvbwiuwefiwefkhjweifbweijfbweif” #MANDATORY export DNS_USERNAME=”you@cloudflareemail.tld” #MANDATORY - the email address you registered for cloudflare with export DNS_SECURITY_KEY=”jnfejfni3reiefhunefuhe83rieifnhuehf2” #MANDATORY - for DNS_CHOICE=”exoscale” written: DNS_SECURITY_KEY=”${ACCESS_KEY}:${SECRET_KEY}” for DNS_CHOICE=”cloudflare” written: DNS_SECURITY_KEY=”${CLOUDFLARE_DNS_KEY}” export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY - the email address you registered for your cloudhost with, in this case, Exoscale export BUILDOS=”ubuntu” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”22.04” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”ubuntu” #MANDATORY - - This must be “ubuntu” if you are deploying ubuntu and “debian” if you are deploying debian export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY Make sure these 5 settings match where your backups is stored with your git provider export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_hfe83484fue4fujwjwjfhu32ruhefjoqehikfg” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY 3=AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”ADHU£UDHJHFJHJHSJGJDFJHS” #MANDATORY AWS SES USERNAME export SYSTEM_EMAIL_PASSWORD=”jhwdf9hweifubhwkfjhweu9fhiuwehf9iuwherfi9uhwef” #MANDATORY AWS SES PASSWORD export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”1” export DEVELOPMENT=”0” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NO_AUTOSCALERS=”1” export NUMBER_WS=”2” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BASELINE_DB_REPOSITORY=”” export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.1” export REGION=”” export REGION_ID=”1128bd56-b4d9-4ac6-a7b9-c715b187ce11” export DB_SIZE=”10G” export DB_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export WS_SIZE=”10G” export WS_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export AS_SIZE=”10G” export AS_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export CLOUDHOST=”exoscale” export MACHINE_TYPE=”EXOSCALE” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”exoscale” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export WSIP=”” export WSIP_PRIVATE=”” export DBIP=”” export DBIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export DNS_REGION=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/exotemplate3/",
            "relUrl": "/exotemplate3/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post17": {
            "title": "Template 2",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a baseline deployment of a CMS, in this case Wordpress, on the Exoscale provider) . . export APPLICATION=”wordpress” #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=”2” #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=”nuocialboss-db-baseline” #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”nuocialboss-webroot-sourcecode-baseline” #MANDATORY export PERSIST_ASSETS_TO_CLOUD=”0” #MANDATORY export DIRECTORIES_TO_MOUNT=”” #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY MAKE SURE THESE 5 APPLICATION_* settings are correct for where your application repositories are. export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_jdhhfue3ue4ufkw219kbfobsfbi3e” #MANDATORY export S3_ACCESS_KEY=”EXOjdhhfhie3u3j2efbei3i33jfe” #MANDATORY export S3_SECRET_KEY=”jsnhdjndfoweofiu2foijweflnwefohwefoiwdovjn” #MANDATORY export S3_HOST_BASE=”sos-ch-gva-2.exo.io” #MANDATORY export S3_LOCATION=”US” #For exoscale, this always needs to be set to “US” export TOKEN=”” #NOT REQUIRED export ACCESS_KEY=”EXOjdhhfhie3u3j2efbei3i33jfe” #MANDATORY export SECRET_KEY=”jsnhdjndfoweofiu2foijweflnwefohwefoiwdovjn” #MANDATORY export DNS_USERNAME=”you@cloudflareemail.tld” #MANDATORY - the email address you registered with cloudflare export DNS_SECURITY_KEY=”jhwdu3823uweufhu232323ewejfwejwefhj” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhost.tld” #MANDATORY - the email address you registered for your cloudhost with (in this case, Exoscale) export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”debian” #MANDATORY - This must be “ubuntu” if you are deploying ubuntu and “debian” if you are deploying debian export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY 3=AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”ADHU£UDHJHFJHJHSJGJDFJHS” #MANDATORY AWS SES USERNAME export SYSTEM_EMAIL_PASSWORD=”jhwdf9hweifubhwkfjhweu9fhiuwehf9iuwherfi9uhwef” #MANDATORY AWS SES PASSWORD export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”0” export DEVELOPMENT=”1” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NUMBER_WS=”1” export NO_AUTOSCALERS=”1” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BUILD_CHOICE=”1” #MANDATORY export BUILD_ARCHIVE_CHOICE=”baseline” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.1” export REGION=”” export REGION_ID=”1128bd56-b4d9-4ac6-a7b9-c715b187ce11” export DB_SIZE=”10G” export DB_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export WS_SIZE=”10G” export WS_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export AS_SIZE=”10G” export AS_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export CLOUDHOST=”exoscale” export MACHINE_TYPE=”EXOSCALE” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”exoscale” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”/home/agile-deployer/agile-infrastructure-build-client-scripts” export BUILD_CLIENT_IP=”185.18.26.191” export BUILD_IDENTIFIER=”nuocial” export PUBLIC_KEY_ID=”AGILE_TOOLKIT_PUBLIC_KEY-nuocial” .",
            "url": "https://www.codebreakers.uk/exotemplate2/",
            "relUrl": "/exotemplate2/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post18": {
            "title": "Template 1",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a virgin deployment of a CMS, in this case Joomla, on the Exoscale provider) . . export APPLICATION=”joomla” #MANDATORY export JOOMLA_VERSION=”4.1.1” #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to “” if you are deploying anything but joomla export DRUPAL_VERSION=”” #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to “” if you are deploying anything but drupal export APPLICATION_IDENTIFIER=”1” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”JOOMLA:4.1.1” #MANDATORY export S3_ACCESS_KEY=”EXO12wjduefu2ejefjh23j23hj23hj” #MANDATORY export S3_SECRET_KEY=”Yhdjefuefh3rjhefjhgefu3ruhewkqwhdj3ejef1” #MANDATORY export S3_HOST_BASE=”sos-ch-gva-2.exo.io” #MANDATORY export S3_LOCATION=”US” #For exoscale, this always needs to be set to “US” export TOKEN=”” #NOT REQUIRED export ACCESS_KEY=”EXO12wjduefu2ejefjh23j23hj23hj” #MANDATORY export SECRET_KEY=”Yhdjefuefh3rjhefjhgefu3ruhewkqwhdj3ejef1” #MANDATORY export DNS_USERNAME=”you@cloudflareemailaddress.tld” #MANDATORY - the email address you have registered with cloudflare export DNS_SECURITY_KEY=”jfhbjed87gYDHhgfu38fjhsjhsklg8” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemailaddress.tld” #MANDATORY - the email address you have registered with your cloudhost (exoscale) export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”debian” #MANDATORY - - This must be “ubuntu” if you are deploying ubuntu and “debian” if you are deploying debian export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_jdhUdjhfheu83uedhdjjefgj3u2jhdjwg” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY 3=AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”ADHU£UDHJHFJHJHSJGJDFJHS” #MANDATORY AWS SES USERNAME export SYSTEM_EMAIL_PASSWORD=”jhwdf9hweifubhwkfjhweu9fhiuwehf9iuwherfi9uhwef” #MANDATORY AWS SES PASSWORD export DIRECTORIES_TO_MOUNT=”” #This should always be unset for a virgin deployments export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export PRODUCTION=”0” export DEVELOPMENT=”1” export BUILD_CHOICE=”0” export WEBSERVER_CHOICE=”APACHE” export NO_AUTOSCALERS=”1” export NUMBER_WS=”1” export SUPERSAFE_WEBROOT=”1” export SUPERSAFE_DB=”1” export DATABASE_INSTALLATION_TYPE=”MySQL” export PERSIST_ASSETS_TO_CLOUD=”0” #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=”0” export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export BASELINE_DB_REPOSITORY=”VIRGIN” export BUILD_ARCHIVE_CHOICE=”virgin” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.1” export REGION=”” export REGION_ID=”1128bd56-b4d9-4ac6-a7b9-c715b187ce11” export DB_SIZE=”10G” export DB_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export WS_SIZE=”10G” export WS_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export AS_SIZE=”10G” export AS_SERVER_TYPE=”b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8” export CLOUDHOST=”exoscale” export MACHINE_TYPE=”EXOSCALE” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailZ123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”exoscale” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export DBIP=”” export DBIP_PRIVATE=”” export WSIP=”” export WSIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export BUILD_HOME=”/home/agile-deployer/agile-infrastructure-build-client-scripts” export BUILD_CLIENT_IP=”185.18.21.191” export BUILD_IDENTIFIER=”nuocial” export PUBLIC_KEY_ID=”AGILE_TOOLKIT_PUBLIC_KEY-nuocial” .",
            "url": "https://www.codebreakers.uk/exotemplate1/",
            "relUrl": "/exotemplate1/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post19": {
            "title": "Template 3",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean3.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a temporal deployment of a CMS, in this case Joomla, on the DigitalOcean provider) . . export APPLICATION=”joomla” #MANDATORY joomla, wordpress, drupal or moodle export BUILD_CHOICE=”2” #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=”hourly” #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export DIRECTORIES_TO_MOUNT=”images” #MANDATORY The directories of dynamic assets in your webroot that will be stored in S3 export APPLICATION_IDENTIFIER=”1” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export S3_ACCESS_KEY=”owndvounqwdvounonwrv” #MANDATORY export S3_SECRET_KEY=”ojnsvwdyvqdvokmpiqeviu2323oriond” #MANDATORY export S3_HOST_BASE=”ams3.digitaloceanspaces.com” #MANDATORY export S3_LOCATION=”US” #For digitalocean, this always needs to be set to “US” export TOKEN=”ioe2oi2eoin2efioubwefoipnqwepknqergoubnqe” #MANDATORY export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflareemail.tld” #MANDATORY - the email address you registered for cloudflare with export DNS_SECURITY_KEY=”jnweu3494foiune3griunweofinwefouh34if934io” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY - the email address you registered for your cloudhost with export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - - This must be “root” for digitalocean export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo@nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY Make sure these 5 settings match where your backups is stored with your git provider export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_njedionfeoinerfouiwefiojweofknonwef” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”i023foiefoinweofioiwef” #MANDATORY AWS SES USERNAME export SYSTEM_EMAIL_PASSWORD=”onewfoinwerfpio32fop23fpo2efpopo2f2ef” #MANDATORY AWS SES PASSWORD export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”1” export DEVELOPMENT=”0” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NO_AUTOSCALERS=”1” export NUMBER_WS=”2” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BASELINE_DB_REPOSITORY=”” export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”lon1” export DB_SIZE=”s-1vcpu-1gb” export DB_SERVER_TYPE=”s-1vcpu-1gb” export WS_SIZE=”s-1vcpu-1gb” export WS_SERVER_TYPE=”s-1vcpu-1gb” export AS_SIZE=”s-1vcpu-1gb” export AS_SERVER_TYPE=”s-1vcpu-1gb” export CLOUDHOST=”digitalocean” export MACHINE_TYPE=”DROPLET” export ALGORITHM=”ecdsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”digitalocean” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export WSIP=”” export WSIP_PRIVATE=”” export DBIP=”” export DBIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export DNS_REGION=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” # you can get this id using doctl compute snapshot list export AUTOSCALER_IMAGE_ID=”” # you can get this id using doctl compute snapshot list export DATABASE_IMAGE_ID=”” # you can get this id using doctl compute snapshot list export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/digitaloceantemplate3/",
            "relUrl": "/digitaloceantemplate3/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post20": {
            "title": "Template 2",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a baseline deployment of a CMS, in this case Joomla, on the DigitalOcean provider) . . export APPLICATION=”wordpress” #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=”2” #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=”wordydemo-db-baseline” #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”wordydemo-webroot-sourcecode-baseline” #MANDATORY export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY MAKE SURE THESE 5 APPLICATION_* settings are correct for where your application repositories are. export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_iuhwdu9h29uh2eidfuhqsdiubq29duh” #MANDATORY export S3_ACCESS_KEY=”iuqwdiubqwefiubqwdiubiubnqwdiou” #MANDATORY export S3_SECRET_KEY=”iu1wdfiubqefiubqwoduoinwroinoin1wdoiun1ewfihb1foub” #MANDATORY export S3_HOST_BASE=”ams3.digitaloceanspaces.com” #MANDATORY export S3_LOCATION=”US” #For digitalocean, this always needs to be set to “US” export TOKEN=”ibjqeibqewfijbqefibq2efoubwfou1wouo1u3wfou” #MANDATORY export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflareemail.tld” #MANDATORY - the email address that you registered for cloudflare with export DNS_SECURITY_KEY=”nwefiuh23f9uh23f9unh2efyb2qoi2qiufbh2wefuby2eifub” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY - the email address that you registered for your cloudhost with export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - This must be “root” for digital ocean export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY - AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”iowefoiuwef9uh24f9h2e9iufh” #MANDATORY - AWS SES Username export SYSTEM_EMAIL_PASSWORD=”ou2efohuwef9uh2ef9iuh2efih2eofih2eoifh2oeihfoiuh2f” #MANDATORY - AWS SES Password export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”0” export DEVELOPMENT=”1” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NUMBER_WS=”1” export NO_AUTOSCALERS=”1” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BUILD_CHOICE=”1” #MANDATORY export BUILD_ARCHIVE_CHOICE=”baseline” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”lon1” export DB_SIZE=”s-1vcpu-1gb” export DB_SERVER_TYPE=”s-1vcpu-1gb” export WS_SIZE=”s-1vcpu-1gb” export WS_SERVER_TYPE=”s-1vcpu-1gb” export AS_SIZE=”s-1vcpu-1gb” export AS_SERVER_TYPE=”s-1vcpu-1gb” export CLOUDHOST=”digitalocean” export MACHINE_TYPE=”DROPLET” export ALGORITHM=”ecdsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”digitalocean” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/digitaloceantemplate2/",
            "relUrl": "/digitaloceantemplate2/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post21": {
            "title": "Template 1",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a baseline deployment of a CMS, in this case Joomla, on the DigitalOcean provider) . . export APPLICATION=”joomla” #MANDATORY export JOOMLA_VERSION=”4.1.2” #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to “” if you are deploying anything but joomla export DRUPAL_VERSION=”” #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to “” if you are deploying anything but drupal export APPLICATION_IDENTIFIER=”1” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”JOOMLA:4.1.2” #MANDATORY export S3_ACCESS_KEY=”Hhcewiedvievuh2wdinw” #MANDATORY export S3_SECRET_KEY=”iwnefiubwefyb2efuib2fin2efiunf9u24u294u” #MANDATORY export S3_HOST_BASE=”ams3.digitaloceanspaces.com” #MANDATORY export S3_LOCATION=”US” #For digitalocean, this always needs to be set to “US” export TOKEN=”ijnwef94ru823f9u23u13oin23ru24fr84fr82ib” #MANDATORY export ACCESS_KEY=”” #NOT REQUIRED export SECRET_KEY=”” #NOT REQUIRED export DNS_USERNAME=”you@cloudflaremail.tld” #MANDATORY the email address you used to register for cloudflare export DNS_SECURITY_KEY=”ijnwef248u24iunwefuhb23fu23u2392iwijn” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhost.tld” #MANDATORY the email address you used to register for your cloudhost export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”root” #MANDATORY - - This must be “root” on digital ocean export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_hwe8uf34f8ub3ef8ybwefuhb2wdib2wdihb” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY - AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”ijnweiu239uh238uqwdiu2efy2uwd” #MANDATORY AWS SES Username export SYSTEM_EMAIL_PASSWORD=”iu2efu239uh239uwd9ij123d9u2h3r9u34f9uh239ij12e983e9” #MANDATORY AWS SES Password export DIRECTORIES_TO_MOUNT=”” #This should always be unset for a virgin deployments export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export PRODUCTION=”0” export DEVELOPMENT=”1” export BUILD_CHOICE=”0” export WEBSERVER_CHOICE=”APACHE” export NO_AUTOSCALERS=”1” export NUMBER_WS=”1” export SUPERSAFE_WEBROOT=”1” export SUPERSAFE_DB=”1” export DATABASE_INSTALLATION_TYPE=”MySQL” export PERSIST_ASSETS_TO_CLOUD=”0” #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=”0” export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export BASELINE_DB_REPOSITORY=”VIRGIN” export BUILD_ARCHIVE_CHOICE=”virgin” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”lon1” export DB_SIZE=”s-1vcpu-1gb” export DB_SERVER_TYPE=”s-1vcpu-1gb” export WS_SIZE=”s-1vcpu-1gb” export WS_SERVER_TYPE=”s-1vcpu-1gb” export AS_SIZE=”s-1vcpu-1gb” export AS_SERVER_TYPE=”s-1vcpu-1gb” export CLOUDHOST=”digitalocean” export MACHINE_TYPE=”DROPLET” export ALGORITHM=”ecdsa” export USER=”root” export CLOUDHOST_USERNAME=”root” export CLOUDHOST_PASSWORD=”” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailZ123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”digitalocean” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export DBIP=”” export DBIP_PRIVATE=”” export WSIP=”” export WSIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/digitaloceantemplate1/",
            "relUrl": "/digitaloceantemplate1/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post22": {
            "title": "Template 3",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws3.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a temporal deployment of a CMS, in this case Joomla, on the AWS provider) . . export APPLICATION=”wordpress” #MANDATORY joomla, wordpress, drupal or moodle export BUILD_CHOICE=”2” #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=”hourly” #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export APPLICATION_IDENTIFIER=”2” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY The directories of dynamic assets in your webroot that will be stored in S3 export S3_ACCESS_KEY=”enun3ef9u23ronwejn” #MANDATORY export S3_SECRET_KEY=”n2efiun13fiun13rfi13rfn13rofne2ofno1enf3” #MANDATORY export S3_HOST_BASE=”s3.eu-west-1.amazonaws.com” #MANDATORY export S3_LOCATION=”EU” #MANDATORY export TOKEN=”” #NOT REQUIRED export ACCESS_KEY=”enun3ef9u23ronwejn” #MANDATORY export SECRET_KEY=”n2efiun13fiun13rfi13rfn13rofne2ofno1enf3” #MANDATORY export DNS_USERNAME=”you@cloudflaremail.tld” #MANDATORY the email address you used to register for cloudflare export DNS_SECURITY_KEY=”ijwnedkjnqwefijnwefijn1efijnwelfmwefkn” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY export BUILDOS=”ubuntu” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”22.04” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”ubuntu” #MANDATORY - - This must be “ubuntu” if you are deploying ubuntu and “admin” if you are deploying debian export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY Make sure these 5 settings match where your backups is stored with your git provider export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_nweifjnwefijnweifjnwefoknwojnweifjnb3if” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY AWS SES export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”ijwnefijnweijnweifbnkmqwdijn” #MANDATORY AWS SES Username export SYSTEM_EMAIL_PASSWORD=”qwoqoqoqwdon2efoweinwefbfenqwokonwibewfib” #MANDATORY AWS SES password export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”1” export DEVELOPMENT=”0” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NO_AUTOSCALERS=”1” export NUMBER_WS=”2” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BASELINE_DB_REPOSITORY=”” export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”eu-west-1” export DB_SIZE=”t2.micro” export DB_SERVER_TYPE=”t2.micro” export WS_SIZE=”t2.micro” export WS_SERVER_TYPE=”t2.micro” export AS_SIZE=”t2.micro” export AS_SERVER_TYPE=”t2.micro” export CLOUDHOST=”aws” export MACHINE_TYPE=”AWS” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”amazonS3” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export WSIP=”” export WSIP_PRIVATE=”” export DBIP=”” export DBIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export DNS_REGION=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/awstemplate3/",
            "relUrl": "/awstemplate3/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post23": {
            "title": "Template 2",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a baseline deployment of a CMS, in this case Joomla, on the AWS provider) . . export APPLICATION=”wordpress” #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=”2” #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=”wordydemo-db-baseline” #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”wordydemo-webroot-sourcecode-baseline” #MANDATORY export PERSIST_ASSETS_TO_CLOUD=”2” #MANDATORY export DIRECTORIES_TO_MOUNT=”wp-content.uploads” #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY MAKE SURE THESE 5 APPLICATION_* settings are correct for where your application repositories are. export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”none” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_ijwnefijnweifjnweifjnwefijnweon” #MANDATORY export S3_ACCESS_KEY=”WWJijnwcdonwdcojnerojn” #MANDATORY export S3_SECRET_KEY=”kwndcojnwefonwefonwefonwefoknweofkm2eofkmokme” #MANDATORY export S3_HOST_BASE=”s3.eu-west-1.amazonaws.com” #MANDATORY export S3_LOCATION=”EU” #MANDATORY export TOKEN=”” #NOT REQUIRED export ACCESS_KEY=”WWJijnwcdonwdcojnerojn” #MANDATORY export SECRET_KEY=”kwndcojnwefonwefonwefonwefoknweofkm2eofkmokme” #MANDATORY export DNS_USERNAME=”you@cloudflaremail.tld” #MANDATORY - the email address you registered for cloudflare with export DNS_SECURITY_KEY=”kmnwefonerfiwefoiunwefojnqeijnefjnwpkdm” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”admin” #MANDATORY - This must be “ubuntu” if you are deploying ubuntu and “admin” if you are deploying debian export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”dwijnweijnweoi2oi23oinjwefojnwe” #MANDATORY export SYSTEM_EMAIL_PASSWORD=”ownefoinwefinefoi2km2m23fon2efin3efiin3foi2wdokmo32” #MANDATORY export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export PRODUCTION=”0” export DEVELOPMENT=”1” export SUPERSAFE_WEBROOT=”1” export WEBSERVER_CHOICE=”NGINX” export NUMBER_WS=”1” export NO_AUTOSCALERS=”1” export SUPERSAFE_DB=”1” export DISABLE_HOURLY=”0” export DATABASE_INSTALLATION_TYPE=”MySQL” export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export BUILD_CHOICE=”1” #MANDATORY export BUILD_ARCHIVE_CHOICE=”baseline” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”eu-west-1” export DB_SIZE=”t2.micro” export DB_SERVER_TYPE=”t2.micro” export WS_SIZE=”t2.micro” export WS_SERVER_TYPE=”t2.micro” export AS_SIZE=”t2.micro” export AS_SERVER_TYPE=”t2.micro” export CLOUDHOST=”aws” export MACHINE_TYPE=”AWS” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”” export CLOUDHOST_PASSWORD=”” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailX123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”amazonS3” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export APPLICATION_NAME=”WORDY DEMO APPLICATION” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export ASSETS_BUCKET=”” export JOOMLA_VERSION=”” export DRUPAL_VERSION=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/awstemplate2/",
            "relUrl": "/awstemplate2/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post24": {
            "title": "Template 1",
            "content": "This file is at: /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.tmpl on my build machine This is how your template should look (obviously with your own values if you are making a virgin deployment of a CMS, in this case Joomla, on the AWS provider) . . export APPLICATION=”joomla” #MANDATORY export JOOMLA_VERSION=”4.1.2” #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to “” if you are deploying anything but joomla export DRUPAL_VERSION=”” #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to “” if you are deploying anything but drupal export APPLICATION_IDENTIFIER=”1” #MANDATORY - 1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=”JOOMLA:4.1.2” #MANDATORY export S3_ACCESS_KEY=”IUHIUHed99ued9uh2edod1” #MANDATORY export S3_SECRET_KEY=”ijnwdcijnwdcijnwdcijnwqdicjnwqdijcnweijnf” #MANDATORY export S3_HOST_BASE=”s3.eu-west-1.amazonaws.com” #MANDATORY export S3_LOCATION=”EU” #MANDATORY export TOKEN=”” #NOT REQUIRED export ACCESS_KEY=”IUHIUHed99ued9uh2edod1” #MANDATORY export SECRET_KEY=”ijnwdcijnwdcijnwdcijnwqdicjnwqdijcnweijnf” #MANDATORY export DNS_USERNAME=”you@cloudflaremail.tld” #MANDATORY - your cloudflare email address export DNS_SECURITY_KEY=”ijnwefinbweifub2wufn2wefiun2weinfiiefib” #MANDATORY export DNS_CHOICE=”cloudflare” #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=”you@cloudhostemail.tld” #MANDATORY your cloudhost email address export BUILDOS=”debian” #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=”11” #MANDATORY one of 20.04 22.04|10 11 export DEFAULT_USER=”admin” #MANDATORY - - This must be “ubuntu” if you are deploying ubuntu and “admin” if you are deploying debian export BUILD_IDENTIFIER=”nuocial” #MANDATORY export WEBSITE_DISPLAY_NAME=”Nuocial” #MANDATORY export WEBSITE_NAME=”nuocial” #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=”demo.nuocial.org.uk” #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=”github” #MANDATORY export APPLICATION_REPOSITORY_OWNER=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_USERNAME=”adt-demos” #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=”” #MANDATORY export APPLICATION_REPOSITORY_TOKEN=”ghp_ijwnedi2eiufweifnwefijnwefiwefiuiu329uonqwd” #MANDATORY export SYSTEM_EMAIL_PROVIDER=”3” #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=”webmaster@nuocial.org.uk” #MANDATORY export SYSTEM_EMAIL_USERNAME=”ijnwdiuhi9u23r9hioijqwdoninwef923ui” #MANDATORY export SYSTEM_EMAIL_PASSWORD=”inwefiubwefiubwefiuwefiuwefiuhweoinqwodoiewqdfiunwefiuiie” #MANDATORY export DIRECTORIES_TO_MOUNT=”” #This should always be unset for a virgin deployments export DB_PORT=”2035” export SSH_PORT=”1035” export GATEWAY_GUARDIAN=”0” export PRODUCTION=”0” export DEVELOPMENT=”1” export BUILD_CHOICE=”0” export WEBSERVER_CHOICE=”APACHE” export NO_AUTOSCALERS=”1” export NUMBER_WS=”1” export SUPERSAFE_WEBROOT=”1” export SUPERSAFE_DB=”1” export DATABASE_INSTALLATION_TYPE=”MySQL” export PERSIST_ASSETS_TO_CLOUD=”0” #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=”0” export SERVER_TIMEZONE_CONTINENT=”Europe” export SERVER_TIMEZONE_CITY=”London” export BASELINE_DB_REPOSITORY=”VIRGIN” export BUILD_ARCHIVE_CHOICE=”virgin” export APPLICATION_LANGUAGE=”PHP” export PHP_VERSION=”8.0” export REGION=”” export REGION_ID=”eu-west-1” export DB_SIZE=”t2.micro” export DB_SERVER_TYPE=”t2.micro” export WS_SIZE=”t2.micro” export WS_SERVER_TYPE=”t2.micro” export AS_SIZE=”t2.micro” export AS_SERVER_TYPE=”t2.micro” export CLOUDHOST=”aws” export MACHINE_TYPE=”AWS” export ALGORITHM=”rsa” export USER=”root” export CLOUDHOST_USERNAME=”” export CLOUDHOST_PASSWORD=”” export PUBLIC_KEY_NAME=”AGILE_TOOLKIT_PUBLIC_KEY” export PREVIOUS_BUILD_CONFIG=”0” export GIT_USER=”Templated User” export GIT_EMAIL_ADDRESS=”templateduser@dummyemailZ123.com” export INFRASTRUCTURE_REPOSITORY_PROVIDER=”github” export INFRASTRUCTURE_REPOSITORY_OWNER=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_USERNAME=”agile-deployer” export INFRASTRUCTURE_REPOSITORY_PASSWORD=”none” export DATASTORE_CHOICE=”amazonS3” export SSL_GENERATION_METHOD=”AUTOMATIC” export SSL_GENERATION_SERVICE=”LETSENCRYPT” export BYPASS_DB_LAYER=”0” export DBaaS_HOSTNAME=”” export DBaaS_USERNAME=”” export DBaaS_PASSWORD=”” export DBaaS_DBNAME=”” export DATABASE_DBaaS_INSTALLATION_TYPE=”” export DBaaSDBSECURITYGROUP=”” export DBIP=”” export DBIP_PRIVATE=”” export WSIP=”” export WSIP_PRIVATE=”” export ASIP=”” export ASIP_PRIVATE=”” export APPLICATION_NAME=”” export MAPS_API_KEY=”” export PHP_MODE=”” export PHP_MAX_CHILDREN=”” export PHP_START_SERVERS=”” export PHP_MIN_SPARE_SERVERS=”” export PHP_MAX_SPARE_SERVERS=”” export PHP_PROCESS_IDLE_TIMEOUT=”” export IN_MEMORY_CACHING=”” export IN_MEMORY_CACHING_PORT=”” export IN_MEMORY_CACHING_HOST=”” export IN_MEMORY_CACHING_SECURITY_GROUP=”” export ENABLE_EFS=”” export SUBNET_ID=”” export AUTOSCALE_FROM_SNAPSHOTS=”” export GENERATE_SNAPSHOTS=”” export SNAPSHOT_ID=”” export WEBSERVER_IMAGE_ID=”” export AUTOSCALER_IMAGE_ID=”” export DATABASE_IMAGE_ID=”” export BUILD_HOME=”” export BUILD_CLIENT_IP=”” export PUBLIC_KEY_ID=”” .",
            "url": "https://www.codebreakers.uk/awstemplate1/",
            "relUrl": "/awstemplate1/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post25": {
            "title": "AWS ADT Tutorials",
            "content": "DIGITAL OCEAN . Template 1 Template 2 Template 3 . EXOSCALE . Template 1 Template 2 Template 3 . LINODE . Template 1 Template 2 Template 3 . VULTR . Template 1 Template 2 Template 3 . AWS . Template 1 Template 2 Template 3 .",
            "url": "https://www.codebreakers.uk/sampletemplates/",
            "relUrl": "/sampletemplates/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post26": {
            "title": "Linode ADT Tutorials",
            "content": "There’s a few options here for learning how to use this toolkit with the Linode cloudhost. . 1. Expedited Build Method (recommended) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 2. Hardcore Build Method (expert) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 3. The Full Build Method (interactively guided) . Tutorial Set 1 : (Full Build) .",
            "url": "https://www.codebreakers.uk/adtlinodetutorials/",
            "relUrl": "/adtlinodetutorials/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post27": {
            "title": "Linode ADT Tutorials Hardcore Virgin Joomla",
            "content": ". IT IS A BIT MORE EFFORT TO GET A HARDCORE BUILD COMPLETED, BUT, ONCE IT IS DONE YOU WILL HAVE A STACKSCRIPT WHICH YOU CAN CONFIGURE DIRECTLY AND REPEATEDLY FOR YOUR USES . . HARDCORE BUILD PROCESS . On your laptop perform the following command: | git clone https://github.com/agile-deployer/agile-infrastructure-build-client-scripts.git . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . This tutorial will deploy the latest version of Joomla using template 1 which you can read about here with the clone you have just made onto your laptop: . ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.description and the hardcore method. . . Record and save the credentials you are about to create in a secure file on your laptop . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a personal access token for Linode, I go to the top right and select “API Keys” and generate a personal access token with . “Account,Domains, Images, IPs, Linodes, Object Storage, Stackscripts and Volumes” . scope enabled. This personal access token I shall call “AAAAA” . IMPORTANT EDIT: To use the native firewalling system the linode-cli tool seems to only accept personal access tokens with full access rights, so, whilst that is the case, you will need to ignore the above scoping and just chose “Select All” with “Read and Write” access when you create your personal access token. . linode_personal_access_token=&quot;AAAAA&quot; where AAAAA is the actual values generated when I click &quot;Create Token&quot; . . You now need to set up Object Storage and obtain Object Storage Keys. You can do this by Selecting Object Storage on the left hand side of your Linode console. . You then click “Access Key” and then, “Create Access Key” and this will display an “Access Key” and a “Secret Key” which you need to make a note of and keep safe: . linode_S3_access_key=&quot;BBBBB&quot; linode_S3_secret_key=&quot;CCCCC&quot; . . You now need to make a note of the email address that you have registered with your linode account: . linode_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to linode as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . linode_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. . To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them . Deploying SMTP Service . If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . . NOTE: The CLOUDHOST_PASSWORD value must be set in your template for a linode based build to succeed. . . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, to begin an hardcore build process, I need to: . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### -- export APPLICATION=&quot;&quot; -- export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;9.2.1&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -- export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# -- export S3_ACCESS_KEY=&quot;&quot; #MANDATORY -- export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;eu-central-1.linodeobjects.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For linode, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #MANDATORY this is your linode personal access token export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED -- export DNS_USERNAME=&quot;&quot; #MANDATORY -- export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY export DNS_CHOICE=&quot;linode&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice -- export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;&quot; #MANDATORY one of 20.04|10 export DEFAULT_USER=&quot;root&quot; #MANDATORY - This should always be &#39;root&#39; on linode -- export BUILD_IDENTIFIER=&quot;&quot; #MANDATORY -- export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY -- export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial -- export WEBSITE_URL=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_PROVIDER=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; -- export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; -- export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; -- export APPLICATION_IDENTIFIER=&quot;0&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;eu-central&quot; export DB_SIZE=&quot;g6-nanode-1&quot; export DB_SERVER_TYPE=&quot;g6-nanode-1&quot; export WS_SIZE=&quot;g6-nanode-1&quot; export WS_SERVER_TYPE=&quot;g6-nanode-1&quot; export AS_SIZE=&quot;g6-nanode-1&quot; export AS_SERVER_TYPE=&quot;g6-nanode-1&quot; export CLOUDHOST=&quot;linode&quot; export MACHINE_TYPE=&quot;LINODE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; -- export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;linode&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;&quot; export BUILD_CLIENT_IP=&quot;&quot; export PUBLIC_KEY_ID=&quot;&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.tmpl . and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# -- export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY -- export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export S3_HOST_BASE=&quot;eu-central-1.linodeobjects.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For linode, this always needs to be set to &quot;US&quot; export TOKEN=&quot;AAAAA&quot; #MANDATORY this is your linode personal access token export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; export DNS_CHOICE=&quot;linode&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; -- export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; -- export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; -- export APPLICATION_IDENTIFIER=&quot;1&quot; -- export PHP_VERSION=&quot;8.0&quot; export REGION=&quot;&quot; export REGION_ID=&quot;eu-central&quot; export DB_SIZE=&quot;g6-nanode-1&quot; export DB_SERVER_TYPE=&quot;g6-nanode-1&quot; export WS_SIZE=&quot;g6-nanode-1&quot; export WS_SERVER_TYPE=&quot;g6-nanode-1&quot; export AS_SIZE=&quot;g6-nanode-1&quot; export AS_SERVER_TYPE=&quot;g6-nanode-1&quot; export CLOUDHOST=&quot;linode&quot; export MACHINE_TYPE=&quot;LINODE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; -- export CLOUDHOST_PASSWORD=&quot;kwshf934^Gyd£&quot; #You can set this to whatever you like as long as it is secure and set export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;linode&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;&quot; export BUILD_CLIENT_IP=&quot;&quot; export PUBLIC_KEY_ID=&quot;&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . You now need to copy your template as follows: . /bin/mkdir ./agile-infrastructure-build-client-scripts/overridescripts/ /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/linode1override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateOverrideTemplate.sh (make sure you review and set all **ALL** of the settings - reviewing them generates the stackscript) . ESSENTIAL NOTE: with the GenerateOverrideTemplate script above, you need to review every setting for the stack script to be generated . ./GenerateHardcoreUserDataScript.sh stack . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . This is a Stack Script - if you don’t understand Stack Scripts you can read: . Stack Script Tutorial. . You need to: . take a copy of the userdata script (the whole thing) by copying it and pasting it to create a Stack Script out of it. | You then need to populate the main variables and modify (if you need to, the advanced ones) of the Stack Script as you ususally would. | You then need to create a linode from your Stack Script. | At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the stackscript parameters as follows: . For Wordpress: . APPLICATION=&quot;wordpress&quot; APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY APPLICATION_IDENTIFIER=&quot;2&quot; DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . APPLICATION=&quot;drupal&quot; DRUPAL_VERSION=&quot;9.2.6&quot; APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . APPLICATION=&quot;moodle&quot; APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a stackscript now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the stackscript in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialshardcorevirgin/",
            "relUrl": "/adtlinodetutorialshardcorevirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post28": {
            "title": "Linode ADT Tutorials Hardcore Temporal Joomla",
            "content": ". IT IS A BIT MORE EFFORT TO GET A HARDCORE BUILD COMPLETED, BUT, ONCE IT IS DONE YOU WILL HAVE A STACKSCRIPT WHICH YOU CAN CONFIGURE DIRECTLY AND REPEATEDLY FOR YOUR USES . . YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export TOKEN=&quot;AAAAA&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;BBBBB:CCCCC&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/linode2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateOverrideTemplate.sh (Make sure you review and set all values) . ./GenerateHardcoreUserDataScript.sh stack . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . This is a Stack Script - if you don’t understand Stack Scripts you can read: . Stack Script Tutorial. . You need to: . take a copy of the userdata script (the whole thing) by copying it and pasting it to create a Stack Script out of it. | You then need to populate the main variables and modify (if you need to, the advanced ones) of the Stack Script as you ususally would. | You then need to create a linode from your Stack Script. | At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your stackscript compared to what you have used above: . For Wordpress: . APPLICATION=&quot;wordpress&quot; DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . APPLICATION=&quot;drupal&quot; DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . APPLICATION=&quot;moodle&quot; DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialshardcoretemporal/",
            "relUrl": "/adtlinodetutorialshardcoretemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post29": {
            "title": "Linode ADT Tutorials Hardcore Baseline Joomla",
            "content": ". IT IS A BIT MORE EFFORT TO GET A HARDCORE BUILD COMPLETED, BUT, ONCE IT IS DONE YOU WILL HAVE A STACKSCRIPT WHICH YOU CAN CONFIGURE DIRECTLY AND REPEATEDLY FOR YOUR USES . . HARDCORE BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. If you are using a baseline that someone else has developed or a baseline that you developed some time ago, then you might not have servers running yet. . What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) of community builder into my virgin Joomla CMS installation. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1 if it is available from a previous build, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.tmpl . I can extract the values for the following variables: . export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export TOKEN=&quot;AAAAA&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;BBBBB:CCCCC&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl . to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS USING A COPY OF THE ADT ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/linode2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateOverrideTemplate.sh (make sure you review and set all **ALL** of the settings - reviewing them generates the stackscript) . ./GenerateHardcoreUserDataScript.sh stack . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . This is a Stack Script - if you don’t understand Stack Scripts you can read: . Stack Script Tutorial. . You need to: . take a copy of the userdata script (the whole thing) by copying it and pasting it to create a Stack Script out of it. | You then need to populate the main variables and modify (if you need to, the advanced ones) of the Stack Script as you ususally would. | You then need to create a linode from your Stack Script. | At this point, your build machine should be up and running and it will be progressing with your build which you can examine in the logs. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialshardcorebaseline/",
            "relUrl": "/adtlinodetutorialshardcorebaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post30": {
            "title": "Linode ADT Tutorials Full Build",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Linode cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . FULL BUILD PROCESS . To begin with you will need to have prepared, as a mimimum, for a Joomla interactive build the following information: . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a personal access token so I go to the top right and select “API Keys” and generate a personal access token with . Account,Domains, Images, IPs, Linodes, Object Storage, Stackscripts and Volumes . scope enabled. This personal access token I shall give a value of “AAAAA” . IMPORTANT EDIT: To use the native firewalling system the linode-cli tool seems to only accept personal access tokens with full access rights, so, whilst that is the case, you will need to ignore the above scoping and just chose “Select All” with “Read and Write” access when you create your personal access token. . linode_personal_access_token=&quot;AAAAA&quot; where AAAAA is the actual values generated when I click &quot;Create Token&quot; . . You now need to set up Object Storage and obtain Object Storage Keys. You can do this by Selecting Object Storage on the left hand side of your Linode console. . You then click “Access Key” and then, “Create Access Key” and this will display an “Access Key” and a “Secret Key” which you need to make a note of and keep safe: . linode_S3_access_key=&quot;BBBBB&quot; linode_S3_secret_key=&quot;CCCCC&quot; . . You now need to make a note of the email address that you have registered with your linode account: . linode_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to linode as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . linode_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . THE ACTUAL BUILD . The full build process is interactive and guided so you need to answer the questions it posits when it posits them to perform a full build: . ssh onto the build machine you started in 1. from your laptop. . cd /home/&lt;username&gt;/agile-infrastructure-build-client-scripts/ . /bin/sh AgileDeploymentToolkit.sh . Once you run this script you will prompted to enter various credentials as required. .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialsfullbuild/",
            "relUrl": "/adtlinodetutorialsfullbuild/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post31": {
            "title": "Linode ADT Tutorials Linode Virgin",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Linode cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . This will deploy the latest version of Joomla using template 1 which you can read about here: template 1 and the expedited method. . If you have followed these steps your build machine is online and secured and you have an SSH session open to it from your laptop through which to initiate your build processes. . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need personal acccess token for linode so, I go to the top right and select “API Keys” and generate a personal access token with . Account,Domains, Images, IPs, Linodes, Object Storage, Stackscripts and Volumes scope . enabled. For convenience I will say this personal access token has a value “AAAAA” . IMPORTANT EDIT: To use the native firewalling system the linode-cli tool seems to only accept personal access tokens with full access rights, so, whilst that is the case, you will need to ignore the above scoping and just chose “Select All” with “Read and Write” access when you create your personal access token. . linode_personal_access_token=&quot;AAAAA&quot; where AAAAA is the actual values generated when I click &quot;Create Token&quot; . . You now need to set up Object Storage and obtain Object Storage Keys. You can do this by Selecting Object Storage on the left hand side of your Linode console. . You then click “Access Key” and then, “Create Access Key” and this will display an “Access Key” and a “Secret Key” which you need to make a note of and keep safe: . linode_S3_access_key=&quot;BBBBB&quot; linode_S3_secret_key=&quot;CCCCC&quot; . . You now need to make a note of the email address that you have registered with your Linode account: . linode_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to Linode as described here . linode_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. . To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a github “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them here. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . . NOTE: The CLOUDHOST_PASSWORD value must be set in your template for a Linode based build to succeed. . . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, at the command line of my build machine that we spun up earlier: . My chosen username is “agile-deployer” . So, to begin an expedited build process, I need to: . cd /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode . Then we can open up the . vi linode1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### -- export APPLICATION=&quot;&quot; -- export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;9.2.1&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -- export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# -- export S3_ACCESS_KEY=&quot;&quot; #MANDATORY -- export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;eu-central-1.linodeobjects.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For linode, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #MANDATORY this is your linode personal access token export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED -- export DNS_USERNAME=&quot;&quot; #MANDATORY -- export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY export DNS_CHOICE=&quot;linode&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice -- export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;&quot; #MANDATORY one of 20.04|10 export DEFAULT_USER=&quot;root&quot; #MANDATORY - This should always be &#39;root&#39; on linode -- export BUILD_IDENTIFIER=&quot;&quot; #MANDATORY -- export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY -- export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial -- export WEBSITE_URL=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_PROVIDER=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; -- export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; -- export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; -- export APPLICATION_IDENTIFIER=&quot;0&quot; export PHP_VERSION=&quot;8.0&quot; export REGION=&quot;&quot; export REGION_ID=&quot;eu-central&quot; export DB_SIZE=&quot;g6-nanode-1&quot; export DB_SERVER_TYPE=&quot;g6-nanode-1&quot; export WS_SIZE=&quot;g6-nanode-1&quot; export WS_SERVER_TYPE=&quot;g6-nanode-1&quot; export AS_SIZE=&quot;g6-nanode-1&quot; export AS_SERVER_TYPE=&quot;g6-nanode-1&quot; export CLOUDHOST=&quot;linode&quot; export MACHINE_TYPE=&quot;LINODE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; -- export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;linode&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;&quot; export BUILD_CLIENT_IP=&quot;&quot; export PUBLIC_KEY_ID=&quot;&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.tmpl and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### -- export APPLICATION=&quot;joomla&quot; -- export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;9.2.1&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -- export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# -- export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY -- export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export S3_HOST_BASE=&quot;eu-central-1.linodeobjects.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For linode, this always needs to be set to &quot;US&quot; -- export TOKEN=&quot;AAAAA&quot; #MANDATORY this is your linode personal access token export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED -- export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY (the email address of your linode account) -- export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY export DNS_CHOICE=&quot;linode&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice -- export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 export DEFAULT_USER=&quot;root&quot; #MANDATORY - This should always be &#39;root&#39; on linode -- export BUILD_IDENTIFIER=&quot;nuocial&quot; #MANDATORY -- export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY -- export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial -- export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY -- export APPLICATION_REPOSITORY_OWNER=&quot;githusername&quot; #MANDATORY -- export APPLICATION_REPOSITORY_USERNAME=&quot;gutusername&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY -- export APPLICATION_REPOSITORY_TOKEN=&quot;gitpersonalaccesstoken&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; -- export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; -- export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; -- export APPLICATION_IDENTIFIER=&quot;1&quot; export PHP_VERSION=&quot;8.0&quot; export REGION=&quot;&quot; export REGION_ID=&quot;eu-central&quot; export DB_SIZE=&quot;g6-nanode-1&quot; export DB_SERVER_TYPE=&quot;g6-nanode-1&quot; export WS_SIZE=&quot;g6-nanode-1&quot; export WS_SERVER_TYPE=&quot;g6-nanode-1&quot; export AS_SIZE=&quot;g6-nanode-1&quot; export AS_SERVER_TYPE=&quot;g6-nanode-1&quot; export CLOUDHOST=&quot;linode&quot; export MACHINE_TYPE=&quot;LINODE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; --export CLOUDHOST_PASSWORD=&quot;kwshf934^Gyd£&quot; #You can set this to whatever you like as long as it is secure and set export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;linode&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;&quot; export BUILD_CLIENT_IP=&quot;&quot; export PUBLIC_KEY_ID=&quot;&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . . You should now be at a point where your build machine is running and configured ready to deploy Joomla in a virgin (or uncustomised) configuration. I will show you what this will likely look like in a video: . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialsexpeditedvirgin/",
            "relUrl": "/adtlinodetutorialsexpeditedvirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post32": {
            "title": "Linode ADT Tutorials Expedited Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export TOKEN=&quot;XXXXX&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;BBBBB:CCCCC&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export CLOUDHOST_PASSWORD=&quot;kwshf934^Gyd£&quot; . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialsexpeditedtemporal",
            "relUrl": "/adtlinodetutorialsexpeditedtemporal",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post33": {
            "title": "Linode ADT Tutorials Expedited Baseline Joomla",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Linode cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode1.tmpl . I can extract the values for the following variables: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export CLOUDHOST_PASSWORD=&quot;kwshf934^Gyd£&quot; . What I then do is adjust /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/linode/linode2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . With your baseline template fully configured, you are now ready to perform a baseline build (in other words, directly install a live application starting from zilch). That will look something like the following: . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. . Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialsexpeditedbaseline",
            "relUrl": "/adtlinodetutorialsexpeditedbaseline",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post34": {
            "title": "Linode ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR EXPEDITED AND FULL BUILDS: . Before performing an expedited or full build, you need to set up a build machine. The way you do this for Exoscale is as follows: . . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take a copy of the script: Initial Script and make a stack sript out of it which will look like: . .       . . 3) If you want to deploy a machine (debian of ubuntu) using the stack script that you made in 2, you can see the following variables in the raw script .     . BUILDMACHINE_USER=&quot;&quot; (for example agile-deployer) BUILDMACHINE_PASSWORD=&quot;&quot; (Make sure the password is complex enough to satisfy any strength checks that the OS performs) BUILDMACHINE_SSH_PORT=&quot;&quot; (for example 1056) LAPTOP_IP=&quot;&quot; (www.whatsmyip.com) . SSH= &quot; &quot; (the public key that you installed on your laptop as a key pair in 1) . You need to now deploy a linode using the Stackscript that you constructed in 2 and populate the variables you just reviewd in the Stackscript you are building from which will look something like: . . You then need to set various options for the linode you are deploying. . Select a machine image to build from (Ubuntu 20:04 and up or Debian 11 and up), a region and a machine size (most probably quite a small machine) . . Then enter (and record) a root password, make sure it is complex enough to satisfy any strength checks built into the OS . . Then switch on private networking . . 4) If you are sure that all your variables are set correctly in the stack script you have created, you can now actually deploy a Linode using it and it will install the agile deployment toolkit on it. .       . . 6) Add a firewall to your new build machine linode cutting off all but the SSH port you set above and Pinging from the ip address of your laptop. In other words, the only machine which has any access to your build machine linode is your own laptop through ssh and ping. . For SSH, do as follows for the ip address of your laptop: . . For Ping, do as follows for the ip address of your laptop: . . . 5) You can access your build machine from your laptop now as follows: .     . Discover what the machine’s IP address is by looking at the Linode GUI system for the IP address of the build machine - in this case: &lt;buildmachineip&gt; = 212.71.248.95 . .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password (this is the password you entered into the Stack Script when you were configuring it above) .     . ${BUILDMACHINE_PASSWORD} .     . On the command line of your laptop it looks like the following: . . .",
            "url": "https://www.codebreakers.uk/adtlinodetutorialsbuildmachineexpedited/",
            "relUrl": "/adtlinodetutorialsbuildmachineexpedited/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post35": {
            "title": "Exoscale ADT Tutorials",
            "content": "There’s a few options here for learning how to use this toolkit with the Exoscale cloudhost. . 1. Expedited Build Method (recommended) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 2. Hardcore Build Method (expert) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 3. The Full Build Method (interactively guided) . Tutorial Set 1 : (Full Build) .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorials/",
            "relUrl": "/adtexoscaletutorials/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post36": {
            "title": "Exoscale ADT Tutorials Hardcore Virgin Joomla",
            "content": "HARDCORE BUILD PROCESS . On your laptop perform the following command: | git clone https://github.com/agile-deployer/agile-infrastructure-build-client-scripts.git . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . This tutorial will deploy the latest version of Joomla using template 1 which you can read about here with the clone you have just made onto your laptop: . ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.description and the hardcore method. . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a set of compute access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with compute access. In my separate text file, I record: . exoscale_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_compute=&quot;YYYYY&quot; . I then need a set of Object Storage (S3) access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with S3 access. In my separate text file, I record: . exoscale_access_key_s3=&quot;AAAAA&quot; where AAAAA and BBBBB are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_s3=&quot;BBBBB&quot; . I then need a set of DNS access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with DNS access. In my separate text file, I record: . exoscale_access_key_dns=&quot;CCCCC&quot; where CCCCC and DDDDD are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_dns=&quot;DDDDD&quot; . NOTE: Alternatively you could generate one set of IAM keys and give that one set all three permissions, Compute, DNS and S3. You wouldn’t have to juggle three set of keys then and could use the same key pair in all three cases. . . You now need to make a note of the email address that you have registered with your exoscale account: . exoscale_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to exoscale as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . exoscale_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them ./agile-deployer/agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/DeployingSMTPService.md. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, to begin an hardcore build process, I need to: . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;sos-ch-gva-2.exo.io&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For exoscale, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #MANDATORY export SECRET_KEY=&quot;&quot; #MANDATORY export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;exoscale&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;1128bd56-b4d9-4ac6-a7b9-c715b187ce11&quot; export DB_SIZE=&quot;10G&quot; export DB_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export WS_SIZE=&quot;10G&quot; export WS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export AS_SIZE=&quot;10G&quot; export AS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export CLOUDHOST=&quot;exoscale&quot; export MACHINE_TYPE=&quot;EXOSCALE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;exoscale&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.tmpl . and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export S3_HOST_BASE=&quot;sos-ch-gva-2.exo.io&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For exoscale, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;exoscale&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;1128bd56-b4d9-4ac6-a7b9-c715b187ce11&quot; export DB_SIZE=&quot;10G&quot; export DB_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export WS_SIZE=&quot;10G&quot; export WS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export AS_SIZE=&quot;10G&quot; export AS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export CLOUDHOST=&quot;exoscale&quot; export MACHINE_TYPE=&quot;EXOSCALE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;exoscale&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . You now need to copy your template as follows: . /bin/mkdir ./agile-infrastructure-build-client-scripts/overridescripts/ /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/exoscale1override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . . Now you have your userdata script take a copy of the entirity of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR EXOSCALE MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialshardcorevirgin/",
            "relUrl": "/adtexoscaletutorialshardcorevirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post37": {
            "title": "Exoscale ADT Tutorials Hardcore Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/exoscale2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow [these](https://www.codebreakers.uk/adtexoscaletutorialsbuildmachinehardcore) instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR EXOSCALE MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install **AND** run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialshardcoretemporal/",
            "relUrl": "/adtexoscaletutorialshardcoretemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post38": {
            "title": "Exoscale ADT Tutorials Hardcore Baseline Joomla",
            "content": "HARDCORE BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. If you are using a baseline that someone else has developed or a baseline that you developed some time ago, then you might not have servers running yet. . What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1 if it is available from a previous build, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.tmpl . I can extract the values for the following variables: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl . to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/exoscale2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR EXOSCALE MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialshardcorebaseline/",
            "relUrl": "/adtexoscaletutorialshardcorebaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post39": {
            "title": "Exoscale ADT Tutorials Full Build",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Exoscale cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . FULL BUILD PROCESS . To begin with you will need to have prepared, as a mimimum, for a Joomla interactive build the following information: . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a set of compute access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with compute access. In my separate text file, I record: . exoscale_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_compute=&quot;YYYYY&quot; . I then need a set of Object Storage (S3) access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with S3 access. In my separate text file, I record: . exoscale_access_key_s3=&quot;AAAAA&quot; where AAAAA and BBBBB are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_s3=&quot;BBBBB&quot; . I then need a set of DNS access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with DNS access. In my separate text file, I record: . exoscale_access_key_dns=&quot;CCCCC&quot; where CCCCC and DDDDD are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_dns=&quot;DDDDD&quot; . NOTE: Alternatively you could generate one set of IAM keys and give that one set all three permissions, Compute, DNS and S3. You wouldn’t have to juggle three set of keys then and could use the same key pair in all three cases. . . You now need to make a note of the email address that you have registered with your exoscale account: . exoscale_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to exoscale as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . exoscale_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . THE ACTUAL BUILD . The full build process is interactive and guided so you need to answer the questions it posits when it posits them to perform a full build: . ssh onto the build machine you started in 1. from your laptop. . cd /home/&lt;username&gt;/agile-infrastructure-build-client-scripts/ . /bin/sh AgileDeploymentToolkit.sh . Once you run this script you will prompted to enter various credentials as required. .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialsfullbuild/",
            "relUrl": "/adtexoscaletutorialsfullbuild/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post40": {
            "title": "Exoscale ADT Tutorials Expedited Virgin",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Exoscale cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . This will deploy the latest version of Joomla using template 1 which you can read about here: template 1 and the expedited method. . If you have followed these steps your build machine is online and secured and you have an SSH session open to it from your laptop through which to initiate your build processes. . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a set of compute access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with compute access. In my separate text file, I record: . exoscale_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_compute=&quot;YYYYY&quot; . I then need a set of Object Storage (S3) access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with S3 access. In my separate text file, I record: . exoscale_access_key_s3=&quot;AAAAA&quot; where AAAAA and BBBBB are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_s3=&quot;BBBBB&quot; . I then need a set of DNS access keys so, I go to the IAM option on my exoscale dashboard and generate an IAM key with DNS access. In my separate text file, I record: . exoscale_access_key_dns=&quot;CCCCC&quot; where CCCCC and DDDDD are the actual values generated when I click &quot;Add Key&quot; exoscale_secret_key_dns=&quot;DDDDD&quot; . NOTE: Alternatively you could generate one set of IAM keys and give that one set all three permissions, Compute, DNS and S3. You wouldn’t have to juggle three set of keys then and could use the same key pair in all three cases. . . You now need to make a note of the email address that you have registered with your exoscale account: . exoscale_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to exoscale as described here . exoscale_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them here. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, at the command line of my build machine that we spun up earlier: . My chosen username is “agile-deployer” . So, to begin an expedited build process, I need to: . cd /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale . Then we can open up the . vi exoscale1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;sos-ch-gva-2.exo.io&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For exoscale, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #MANDATORY export SECRET_KEY=&quot;&quot; #MANDATORY export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;exoscale&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;1128bd56-b4d9-4ac6-a7b9-c715b187ce11&quot; export DB_SIZE=&quot;10G&quot; export DB_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export WS_SIZE=&quot;10G&quot; export WS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export AS_SIZE=&quot;10G&quot; export AS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export CLOUDHOST=&quot;exoscale&quot; export MACHINE_TYPE=&quot;EXOSCALE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;exoscale&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.tmpl and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export S3_HOST_BASE=&quot;sos-ch-gva-2.exo.io&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For exoscale, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;exoscale&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;1128bd56-b4d9-4ac6-a7b9-c715b187ce11&quot; export DB_SIZE=&quot;10G&quot; export DB_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export WS_SIZE=&quot;10G&quot; export WS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export AS_SIZE=&quot;10G&quot; export AS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export CLOUDHOST=&quot;exoscale&quot; export MACHINE_TYPE=&quot;EXOSCALE&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;exoscale&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . . You should now be at a point where your build machine is running and configured ready to deploy Joomla in a virgin (or uncustomised) configuration. I will show you what this will likely look like in a video: . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialsexpeditedvirgin/",
            "relUrl": "/adtexoscaletutorialsexpeditedvirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post41": {
            "title": "Exoscale ADT Tutorials Expedited Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialsexpeditedtemporal/",
            "relUrl": "/adtexoscaletutorialsexpeditedtemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post42": {
            "title": "Exoscale ADT Tutorials Expedited Baseline Joomla",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the Exoscale cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale1.tmpl . I can extract the values for the following variables: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/exoscale/exoscale2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . With your baseline template fully configured, you are now ready to perform a baseline build (in other words, directly install a live application starting from zilch). That will look something like the following: . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialsexpeditedbaseline/",
            "relUrl": "/adtexoscaletutorialsexpeditedbaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post43": {
            "title": "Exoscale ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR HARDCORE BUILDS: . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take on your laptop, take a copy of your userdata script that you should have previously generated from . ${BUILD_HOME}/agile-infrastructure-build-client-scripts/userdatascripts/${userdatascript}) . where ${userdatascript} is the name you have given to your userdata script. .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a security group for your build machine. You can do this as follows:     . Click on the security groups option of your exoscale GUI     Click “Add Security Group” and call it PRECISELY “adt-build-machine” and then click “Create Group” .     You can then see your new security Group “adt-build-machine” listed .     Click on the “adt-build-machine” security group . Add rules to the “adt-build-machine” security group to allow pinging and your build client to connect. . . So you will need to add 2 rules . 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with “CIDR 111.111.111.111/32 1035” . You can see in this image that port 1035 is about to be opened up to the ip address of my laptop 111.111.111.111/32 .     . . 6) You need to spin up a small machine to be your build machine by clicking “Add” on the top right of the GUI. And then follow these steps: . 1. Select which template you want debian 10 (or later) or ubuntu 20.04 (or later) 2. Select which zone you want to deploy to, for example, CH-GVA-2 3. Select instance type &quot;Tiny&quot; for example 4. Select disk size (50GB) 5. Ignore SSH KEY 6. Make sure your security group &quot;adt-build-machine&quot; is set for this machine and deselect the &quot;default&quot; security group if it is selected. 7. In the &quot;User Data&quot; area of your VPC machine, paste the entire script that you were left with from 4. 8. Click Create and wait for your machine to build . Graphically you can see what I have described in these 8 steps here: .       . .       . . 7) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the Exoscale GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . In Graphical form, it looks like this: .     . Grab your build machine’s IP address (third column) .     . Run through the commands as shown on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialsbuildmachinehardcore/",
            "relUrl": "/adtexoscaletutorialsbuildmachinehardcore/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post44": {
            "title": "Exoscale ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR EXPEDITED AND FULL BUILDS: . Before performing an expedited or full build, you need to set up a build machine. The way you do this for Exoscale is as follows: . . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take a copy of the script: Initial Script .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a security group for your build machine. You can do this as follows:     . Click on the security groups option of your exoscale GUI     Click “Add Security Group” and call it PRECISELY “adt-build-machine” and click “Create Group” .     You can then see your new security Group “adt-build-machine” listed . 6) Add rules to the “adt-build-machine” security group to allow pinging and your build client to connect. . So you will need to add 2 rules . 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with “CIDR 111.111.111.111/32 1035” . You can see in this image that port 1035 is about to be opened up to the ip address of my laptop 111.111.111.111/32 .     . . 7) You need to spin up a small machine to be your build machine by clicking “Add” on the top right of the GUI. And then follow these steps: . 1. Select which template you want debian 10 (or later) or ubuntu 20.04 (or later) 2. Select which zone you want to deploy to, for example, CH-GVA-2 3. Select instance type &quot;Tiny&quot; for example 4. Select disk size (50GB) 5. Ignore SSH KEY 6. Make sure your security group &quot;adt-build-machine&quot; is set for this machine and deselect the &quot;default&quot; security group if it is selected. 7. In the &quot;User Data&quot; area of your VPC machine, paste the entire script that you were left with from 4. 8. Click Create and wait for your machine to build . Graphically you can see what I have described in these 8 steps here: .       . .       . . 8) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the Exoscale GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . In Graphical form, it looks like this: .     . Grab your build machine’s IP address (third column) .     . Run through the commands as shown on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtexoscaletutorialsbuildmachineexpedited/",
            "relUrl": "/adtexoscaletutorialsbuildmachineexpedited/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post45": {
            "title": "DigitalOcean ADT Tutorials",
            "content": "There’s a few options here for learning how to use this toolkit with the DigitalOcean cloudhost. . 1. Expedited Build Method (recommended) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 2. Hardcore Build Method (expert) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 3. The Full Build Method (interactively guided) . Tutorial Set 1 : (Full Build) .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorials/",
            "relUrl": "/adtdigitaloceantutorials/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post46": {
            "title": "DigitalOcean ADT Tutorials Hardcore Virgin Joomla",
            "content": "HARDCORE BUILD PROCESS . On your laptop perform the following command: | git clone https://github.com/agile-deployer/agile-infrastructure-build-client-scripts.git . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . This tutorial will deploy the latest version of Joomla using template 1 which you can read about here with the clone you have just made onto your laptop: . ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.description and the hardcore method. . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . You then need a Digital Ocean Personal Access Token, so, go to the menu on the left of your Digital Ocean gui system and click “API” then Select “Tokens” and from there you can generate a Personal Access Token and record it in a separate text file. . digitalocean_token_compute=&quot;AAAAA&quot; where AAAAA are the actual values generated when I click &quot;Generate Token&quot; . I then need a set of Spaces access keys so, I go to the “API” option on my digitalocean dashboard and generate a set of “Spaces” keys. In my separate text file, I record: . digitalocean_access_key_s3=&quot;BBBBB&quot; where BBBBB and CCCCC are the actual values generated when I click &quot;Generate Token&quot; digitalocean_secret_key_s3=&quot;CCCCC&quot; . . You now need to make a note of the email address that you have registered with your digitalocean account: . digitalocean_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to digitalocean as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . digitalocean_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them ./agile-deployer/agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/DeployingSMTPService.md. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, to begin an hardcore build process, I need to: . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.digitaloceanspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For digitalocean, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #MANDATORY export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;digitalocean&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;digitalocean&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;digitalocean&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.tmpl . and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.digitaloceanspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For digitalocean, this always needs to be set to &quot;US&quot; export TOKEN=&quot;AAAAA&quot; #MANDATORY export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export DNS_CHOICE=&quot;digitalocean&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;digitalocean&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;digitalocean&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . You now need to copy your template as follows: . /bin/mkdir ./agile-infrastructure-build-client-scripts/overridescripts/ /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/digitalocean1override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . . Now you have your userdata script take a copy of the entirity of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR DIGITALOCEAN MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialshardcorevirgin/",
            "relUrl": "/adtdigitaloceantutorialshardcorevirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post47": {
            "title": "DigitalOcean ADT Tutorials Hardcore Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/digitalocean2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow [these](https://www.codebreakers.uk/adtdigitaloceantutorialsbuildmachinehardcore) instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR DIGITALOCEAN MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install **AND** run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialshardcoretemporal/",
            "relUrl": "/adtdigitaloceantutorialshardcoretemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post48": {
            "title": "DigitalOcean ADT Tutorials Hardcore Baseline Joomla",
            "content": "HARDCORE BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. If you are using a baseline that someone else has developed or a baseline that you developed some time ago, then you might not have servers running yet. . What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1 if it is available from a previous build, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.tmpl . I can extract the values for the following variables: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl . to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/digitalocean2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR DIGITALOCEAN MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialshardcorebaseline/",
            "relUrl": "/adtdigitaloceantutorialshardcorebaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post49": {
            "title": "DigitalOcean ADT Tutorials Full Build",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the DigitalOcean cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . FULL BUILD PROCESS . To begin with you will need to have prepared, as a mimimum, for a Joomla interactive build the following information: . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a set of compute access keys so, I go to the IAM option on my digitalocean dashboard and generate an IAM key with compute access. In my separate text file, I record: . digitalocean_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Add Key&quot; digitalocean_secret_key_compute=&quot;YYYYY&quot; . I then need a set of Object Storage (S3) access keys so, I go to the IAM option on my digitalocean dashboard and generate an IAM key with S3 access. In my separate text file, I record: . digitalocean_access_key_s3=&quot;AAAAA&quot; where AAAAA and BBBBB are the actual values generated when I click &quot;Add Key&quot; digitalocean_secret_key_s3=&quot;BBBBB&quot; . I then need a set of DNS access keys so, I go to the IAM option on my digitalocean dashboard and generate an IAM key with DNS access. In my separate text file, I record: . digitalocean_access_key_dns=&quot;CCCCC&quot; where CCCCC and DDDDD are the actual values generated when I click &quot;Add Key&quot; digitalocean_secret_key_dns=&quot;DDDDD&quot; . NOTE: Alternatively you could generate one set of IAM keys and give that one set all three permissions, Compute, DNS and S3. You wouldn’t have to juggle three set of keys then and could use the same key pair in all three cases. . . You now need to make a note of the email address that you have registered with your digitalocean account: . digitalocean_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to digitalocean as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . digitalocean_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . THE ACTUAL BUILD . The full build process is interactive and guided so you need to answer the questions it posits when it posits them to perform a full build: . ssh onto the build machine you started in 1. from your laptop. . cd /home/&lt;username&gt;/agile-infrastructure-build-client-scripts/ . /bin/sh AgileDeploymentToolkit.sh . Once you run this script you will prompted to enter various credentials as required. .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialsfullbuild/",
            "relUrl": "/adtdigitaloceantutorialsfullbuild/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post50": {
            "title": "DigitalOcean ADT Tutorials Expedited Virgin",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the DigitalOcean cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . This will deploy the latest version of Joomla using template 1 which you can read about here: template 1 and the expedited method. . If you have followed these steps your build machine is online and secured and you have an SSH session open to it from your laptop through which to initiate your build processes. . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . You then need a Digital Ocean Personal Access Token, so, go to the menu on the left of your Digital Ocean gui system and click “API” then Select “Tokens” and from there you can generate a Personal Access Token. . digitalocean_token_compute=&quot;AAAAA&quot; where AAAAA are the actual values generated when I click &quot;Generate Token&quot; . I then need a set of Spaces access keys so, I go to the “API” option on my digitalocean dashboard and generate a set of “Spaces” keys. In my separate text file, I record: . digitalocean_access_key_s3=&quot;BBBBB&quot; where BBBBB and CCCCC are the actual values generated when I click &quot;Generate Token&quot; digitalocean_secret_key_s3=&quot;CCCCC&quot; . . You now need to make a note of the email address that you have registered with your digitalocean account: . digitalocean_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to digitalocean as described here . digitalocean_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them here. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, at the command line of my build machine that we spun up earlier: . My chosen username is “agile-deployer” . So, to begin an expedited build process, I need to: . cd /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean . Then we can open up the . vi digitalocean1.tmpl . This file looks like this (I have put dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.digitaloceanspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For digitalocean, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export DNS_CHOICE=&quot;digitalocean&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;digitalocean&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;digitalocean&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.tmpl and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export S3_HOST_BASE=&quot;ams3.digitaloceanspaces.com&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For digitalocean, this always needs to be set to &quot;US&quot; export TOKEN=&quot;AAAAA&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #NOT REQUIRED export SECRET_KEY=&quot;&quot; #NOT REQUIRED export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export DNS_CHOICE=&quot;digitalocean&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;lon1&quot; export DB_SIZE=&quot;1gb&quot; export DB_SERVER_TYPE=&quot;1gb&quot; export WS_SIZE=&quot;1gb&quot; export WS_SERVER_TYPE=&quot;1gb&quot; export AS_SIZE=&quot;1gb&quot; export AS_SERVER_TYPE=&quot;1gb&quot; export CLOUDHOST=&quot;digitalocean&quot; export MACHINE_TYPE=&quot;DROPLET&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;digitalocean&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . . You should now be at a point where your build machine is running and configured ready to deploy Joomla in a virgin (or uncustomised) configuration. I will show you what this will likely look like in a video: . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialsexpeditedvirgin/",
            "relUrl": "/adtdigitaloceantutorialsexpeditedvirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post51": {
            "title": "DigitalOcean ADT Tutorials Expedited Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialsexpeditedtemporal/",
            "relUrl": "/adtdigitaloceantutorialsexpeditedtemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post52": {
            "title": "DigitalOcean ADT Tutorials Expedited Baseline Joomla",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the DigitalOcean cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean1.tmpl . I can extract the values for the following variables: . export TOKEN=&quot;AAAAA&quot; #MANDATORY export S3_ACCESS_KEY=&quot;BBBBB&quot; #MANDATORY export S3_SECRET_KEY=&quot;CCCCC&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;AAAAA&quot; #MANDATORY - This is your personal access token, DNS_SECURITY_KEY=${TOKEN} export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/digitalocean/digitalocean2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . With your baseline template fully configured, you are now ready to perform a baseline build (in other words, directly install a live application starting from zilch). That will look something like the following: . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialsexpeditedbaseline/",
            "relUrl": "/adtdigitaloceantutorialsexpeditedbaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post53": {
            "title": "Digital Ocean ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR HARDCORE BUILDS: . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take on your laptop, take a copy of your userdata script that you should have previously generated from . ${BUILD_HOME}/agile-infrastructure-build-client-scripts/userdatascripts/${userdatascript}) . where ${userdatascript} is the name you have given to your userdata script. .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a firewall for your build machine. You can do this by creating a firewall on this page:     . Click on the Networking main option and the “firewalls” sub option of your digitalocean GUI .     Click “Create Firewall” and call it PRECISELY “adt-build-machine”. Remove all inbound rules and keep the outbound rules as they are set .     You can then see your new security Group “adt-build-machine” listed .     ——————–. . 6) Add rules to the “adt-build-machine” firewall to allow pinging and your build client to connect. . So you will need to add 2 rules . 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with “CIDR 111.111.111.111/32 1035” . You can see in this image that port 1035 is about to be opened up to the ip address of my laptop 111.111.111.111/32 .     . . 7) You need to spin up a small machine to be your build machine by clicking “Create Droplet” on the top right of the GUI. And then follow these steps: . 1. Select which template you want debian 10 (or later) or ubuntu 20.04 (or later) 2. Select which region you want to deploy to, for example, london 3. Select instance size &quot;1GB&quot; for example 4. Attach your SSH KEY 5. In the &quot;User Data&quot; area of your VPC machine, paste the entire script that you were left with from 4. 6. Click Create and wait for your machine to build 7. Once the machine has built, go to &quot;networking&quot; -&gt; &quot;firewalls&quot; and select &quot;adt-build-machine&quot; firewall and add your new droplet to the firewall . Graphically you can see what I have described in these 8 steps here: .       . .       . . 8) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the Digital Ocean GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . In Graphical form, it looks like this: .     . Grab your build machine’s IP address (second column) .     . Run through the commands as shown on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialsbuildmachinehardcore/",
            "relUrl": "/adtdigitaloceantutorialsbuildmachinehardcore/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post54": {
            "title": "Digital Ocean ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR EXPEDITED AND FULL BUILDS: . Before performing an expedited or full build, you need to set up a build machine. The way you do this for Digital Ocean is as follows: . . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take a copy of the script: Initial Script .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a firewall for your build machine. You can do this by creating a firewall on this page:     . Click on the Networking main option and the “firewalls” sub option of your digitalocean GUI .     Click “Create Firewall” and call it PRECISELY “adt-build-machine”. Remove all inbound rules and keep the outbound rules as they are set .     You can then see your firewall “adt-build-machine” listed .     ——————-. . 6) Add rules to the “adt-build-machine” firewall to allow pinging and your build client to connect. . So you will need to add 2 rules . 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with “CIDR 111.111.111.111/32 1035” . You can see in this image that port 1035 is about to be opened up to the ip address of my laptop 111.111.111.111/32 .     . . 7) You need to spin up a small machine to be your build machine by clicking “Create Droplet” on the top right of the GUI. And then follow these steps: . 1. Select which template you want debian 10 (or later) or ubuntu 20.04 (or later) 2. Select which region you want to deploy to, for example, london 3. Select instance size &quot;1GB&quot; for example 4. Attach your SSH KEY 5. In the &quot;User Data&quot; area of your VPC machine, paste the entire script that you were left with from 4. 6. Click Create and wait for your machine to build 7. Once the machine has built, go to &quot;networking&quot; -&gt; &quot;firewalls&quot; and select &quot;adt-build-machine&quot; firewall and add your new droplet to the firewall . Graphically you can see what I have described in these 8 steps here: .       . .       . . 8) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the Digital Ocean GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . In Graphical form, it looks like this: .     . Grab your build machine’s IP address (second column) .     . Run through the commands as shown below on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtdigitaloceantutorialsbuildmachineexpedited/",
            "relUrl": "/adtdigitaloceantutorialsbuildmachineexpedited/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post55": {
            "title": "AWS ADT Tutorials",
            "content": "There’s a few options here for learning how to use this toolkit with the Exoscale cloudhost. . 1. Expedited Build Method (recommended) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 2. Hardcore Build Method (expert) . This tutorial set needs to be followed sequentially in numeric order. . Tutorial Set 1 (Virgin CMS Installation) Tutorial Set 2 (Baseline CMS Installation) Tutorial Set 3 (Temporal CMS Installation) . 3. The Full Build Method (interactively guided) . Tutorial Set 1 : (Full Build) .",
            "url": "https://www.codebreakers.uk/adtawstutorials/",
            "relUrl": "/adtawstutorials/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post56": {
            "title": "AWS ADT Tutorials Hardcore Virgin Joomla",
            "content": "HARDCORE BUILD PROCESS . On your laptop perform the following command: | git clone https://github.com/agile-deployer/agile-infrastructure-build-client-scripts.git . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . This tutorial will deploy the latest version of Joomla using template 1 which you can read about here with the clone you have just made onto your laptop: . ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.description and the hardcore method. . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . You can create IAM keys for AWS in the following way: . . Select the access rights that you deployment needs: . You will definitely need: AmazonEC2FullAccess and AmazonS3FullAccess in all scenarios . If you want to deploy an RDS managed database you will need: AmazonRDSFullAccess If you want to deploy an EFS filesystem you will need : AmazonElasticFileSystemFullAccess . You can either generate one set of keys with all these permissions enabled or different keys based on functional scope Assuming that you are creating one set of keys with all your permissions I will call the keys “XXXXX” and “YYYYY” . . And click “Create Access Key” . In my separate text file, I record the access keys I have created: . aws_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Create Access Key&quot; aws_secret_key_compute=&quot;YYYYY&quot; . Now I need to use my access keys for S3 access . aws_access_key_s3=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Create Access Key&quot; aws_secret_key_s3=&quot;YYYYY&quot; . I then need a set of DNS access keys so, my Route53 access key can be recorded here: . aws_access_key_dns=&quot;XXXXX&quot; where XXXXX are the actual values generated aws_secret_key_dns=&quot;YYYYY&quot; where YYYYY are the actual values generated . . You now need to make a note of the email address that you have registered with your aws account: . aws_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to aws as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . aws_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them ./agile-deployer/agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/DeployingSMTPService.md. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, to begin an hardcore build process, I need to: . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;s3.eu-west-1.amazonaws.com&quot; #MANDATORY export S3_LOCATION=&quot;EU&quot; #MANDATORY export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #MANDATORY export SECRET_KEY=&quot;&quot; #MANDATORY export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - You DNS secret key CCCCC export DNS_CHOICE=&quot;aws&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;admin&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;admin&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;eu-west-1&quot; export DB_SIZE=&quot;t2.micro&quot; export DB_SERVER_TYPE=&quot;t2.micro&quot; export WS_SIZE=&quot;t2.micro&quot; export WS_SERVER_TYPE=&quot;t2.micro&quot; export AS_SIZE=&quot;t2.micro&quot; export AS_SERVER_TYPE=&quot;t2.micro&quot; export CLOUDHOST=&quot;aws&quot; export MACHINE_TYPE=&quot;AWS&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;aws&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing . vi ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.tmpl . and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export S3_HOST_BASE=&quot;sos-ch-gva-2.exo.io&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For aws, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - You DNS secret key CCCCC export DNS_CHOICE=&quot;aws&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;1128bd56-b4d9-4ac6-a7b9-c715b187ce11&quot; export DB_SIZE=&quot;10G&quot; export DB_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export WS_SIZE=&quot;10G&quot; export WS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export AS_SIZE=&quot;10G&quot; export AS_SERVER_TYPE=&quot;b6cd1ff5-3a2f-4e9d-a4d1-8988c1191fe8&quot; export CLOUDHOST=&quot;aws&quot; export MACHINE_TYPE=&quot;AWS&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;aws&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . You now need to copy your template as follows: . /bin/mkdir ./agile-infrastructure-build-client-scripts/overridescripts/ /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/aws1override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . . Now you have your userdata script take a copy of the entirity of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR AWS MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtawstutorialshardcorevirgin/",
            "relUrl": "/adtawstutorialshardcorevirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post57": {
            "title": "AWS ADT Tutorials Hardcore Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/aws2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow [these](https://www.codebreakers.uk/adtawstutorialsbuildmachinehardcore) instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR AWS MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install **AND** run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtawstutorialshardcoretemporal/",
            "relUrl": "/adtawstutorialshardcoretemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post58": {
            "title": "AWS ADT Tutorials Hardcore Baseline Joomla",
            "content": "HARDCORE BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. If you are using a baseline that someone else has developed or a baseline that you developed some time ago, then you might not have servers running yet. . What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1 if it is available from a previous build, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.tmpl . I can extract the values for the following variables: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl . to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . FOLLOW THESE STEPS ON YOUR LAPTOP IF YOU DON’T HAVE A BUILD SERVER RUNNING . You now need to copy your template as follows on your laptop: . /bin/cp ./agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl ./agile-infrastructure-build-client-scripts/overridescripts/aws2override.tmpl . Then you need to run the script: . cd helperscripts . ./GenerateHardcoreUserDataScript.sh . This will leave you with a script: . ../userdatascripts/${userdatascript} . where ${userdatascript} is the descriptive name you gave when prompted. . It is mandatory to edit your userdata script and modify these values within it to your liking: . export BUILDMACHINE_USER=&quot;agile-user&quot; export BUILDMACHINE_PASSWORD=&quot;Hjdhfb34hd£&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; . export SSH= &quot; &quot; #paste your public key here . Now you have your userdata script take a copy of it using copy and paste and then follow these instructions PASTING THE SCRIPT YOU HAVE JUST COPIED INTO THE USERDATA AREA OF YOUR AWS MACHINE INSTEAD OF THE MODIFIED TEMPLATE. The build machine will then install AND run the agile deployment toolkit. This is just an alternative method to the expedited build process which you may or may not perfer. . At this point, your build machine should be up and running. Please review . Tighten Build Machine . At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Access” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtawstutorialshardcorebaseline/",
            "relUrl": "/adtawstutorialshardcorebaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post59": {
            "title": "AWS ADT Tutorials Full Build",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the AWS cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . FULL BUILD PROCESS . To begin with you will need to have prepared, as a mimimum, for a Joomla interactive build the following information: . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . I then need a set of compute access keys so, I go to the IAM option on my aws dashboard and generate an IAM key with compute access. In my separate text file, I record: . aws_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Add Key&quot; aws_secret_key_compute=&quot;YYYYY&quot; . I then need a set of Object Storage (S3) access keys so, I go to the IAM option on my aws dashboard and generate an IAM key with S3 access. In my separate text file, I record: . aws_access_key_s3=&quot;AAAAA&quot; where AAAAA and BBBBB are the actual values generated when I click &quot;Add Key&quot; aws_secret_key_s3=&quot;BBBBB&quot; . I then need a set of DNS access keys so, I go to the IAM option on my aws dashboard and generate an IAM key with DNS access. In my separate text file, I record: . aws_access_key_dns=&quot;CCCCC&quot; where CCCCC and DDDDD are the actual values generated when I click &quot;Add Key&quot; aws_secret_key_dns=&quot;DDDDD&quot; . NOTE: Alternatively you could generate one set of IAM keys and give that one set all three permissions, Compute, DNS and S3. You wouldn’t have to juggle three set of keys then and could use the same key pair in all three cases. . . You now need to make a note of the email address that you have registered with your aws account: . aws_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to aws as described in ./agile-infrastructure-build-client-scripts/blob/master/doco/AgileToolkitDeployment/Nameservers.md . aws_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . THE ACTUAL BUILD . The full build process is interactive and guided so you need to answer the questions it posits when it posits them to perform a full build: . ssh onto the build machine you started in 1. from your laptop. . cd /home/&lt;username&gt;/agile-infrastructure-build-client-scripts/ . /bin/sh AgileDeploymentToolkit.sh . Once you run this script you will prompted to enter various credentials as required. .",
            "url": "https://www.codebreakers.uk/adtawstutorialsfullbuild/",
            "relUrl": "/adtawstutorialsfullbuild/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post60": {
            "title": "AWS ADT Tutorials Expedited Virgin",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the AWS cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . This will deploy the latest version of Joomla using template 1 which you can read about here: template 1 and the expedited method. . If you have followed these steps your build machine is online and secured and you have an SSH session open to it from your laptop through which to initiate your build processes. . We need several pieces of information from our cloud host and 3rd party services for a successful build to be possible: . I am going to use the example of joomla to build from and so this example will build a virgin installation of the latest version of joomla . . To find the latest version of Joomla, I go to this URL in my browser: . Joomla Latest . And I note the latest version in a separate text file: . joomla_version=&quot;4.0.4&quot; . You can of course use a legacy version of joomla also by choosing a different version numnber. . . You can create IAM keys for AWS in the following way: . . Select the access rights that you deployment needs: . You will definitely need: AmazonEC2FullAccess and AmazonS3FullAccess in all scenarios . If you want to deploy an RDS managed database you will need: AmazonRDSFullAccess If you want to deploy an EFS filesystem you will need : AmazonElasticFileSystemFullAccess . You can either generate one set of keys with all these permissions enabled or different keys based on functional scope Assuming that you are creating one set of keys with all your permissions I will call the keys “XXXXX” and “YYYYY” . . And click “Create Access Key” . In my separate text file, I record the access keys I have created: . aws_access_key_compute=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Create Access Key&quot; aws_secret_key_compute=&quot;YYYYY&quot; . Now I need to use my access keys for S3 access . aws_access_key_s3=&quot;XXXXX&quot; where XXXXX and YYYYY are the actual values generated when I click &quot;Create Access Key&quot; aws_secret_key_s3=&quot;YYYYY&quot; . I then need a set of DNS access keys so, my Route53 access key can be recorded here: . aws_access_key_dns=&quot;XXXXX&quot; where XXXXX are the actual values generated aws_secret_key_dns=&quot;YYYYY&quot; where YYYYY are the actual values generated . . You now need to make a note of the email address that you have registered with your aws account: . aws_email=&quot;testemail@testemail.com&quot; . . You then need the url that you want to use for your website. If you don’t have a DNS URL for your website, you need to purchase one and set the nameservers to aws as described here . aws_dns_name=&quot;www.testsocialnetwork.org.uk&quot; . . You then need the username and owner of you git provider application repositories. To do this, if you don’t have a git account sign up with one (in this case using github, but, you have the choice of bitbucket and gitlab as well) and record the username that you sign up with: . gitusername=&quot;mytestgituser&quot; . Then create a “personal access token” by following: . Personal Access Token making sure you give it all “repo” permissions as well as the “delete repository” permission . gitpersonalaccesstoken=&quot;KKKKK&quot; where KKKKK represents your actual personal access token . . To keep this as simple as possible, I have missed out the SMTP credentials, but, you can find out more about them here. If you wish to include SMTP credentials you will need to have a service offering set up with either sendpulse, mailjet or AWS SES. . So, that should be all the core credentials that I need to make a deployment. I can save my text file now (and keep it secure) because I might want to use these credentials again for other deployments or redeployments. . . . So, at the command line of my build machine that we spun up earlier: . My chosen username is “agile-deployer” . So, to begin an expedited build process, I need to: . cd /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws . Then we can open up the . vi aws1.tmpl . This file looks like this (I have put a dashes before each line I wish to modify for this deployment which is for illustrative purposes only): . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;&quot; export JOOMLA_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;&quot; #MANDATORY export S3_SECRET_KEY=&quot;&quot; #MANDATORY export S3_HOST_BASE=&quot;s3.eu-west-1.amazonaws.com&quot; #MANDATORY export S3_LOCATION=&quot;EU&quot; #MANDATORY export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;&quot; #MANDATORY export SECRET_KEY=&quot;&quot; #MANDATORY export DNS_USERNAME=&quot;&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - You DNS secret key export DNS_CHOICE=&quot;aws&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice AAAAA export CLOUDHOST_EMAIL_ADDRESS=&quot;&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;admin&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;admin&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;&quot; #MANDATORY export WEBSITE_NAME=&quot;&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;APACHE&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;3&quot; export PHP_VERSION=&quot;7.4&quot; export REGION=&quot;&quot; export REGION_ID=&quot;eu-west-1&quot; export DB_SIZE=&quot;t2.micro&quot; export DB_SERVER_TYPE=&quot;t2.micro&quot; export WS_SIZE=&quot;t2.micro&quot; export WS_SERVER_TYPE=&quot;t2.micro&quot; export AS_SIZE=&quot;t2.micro&quot; export AS_SERVER_TYPE=&quot;t2.micro&quot; export CLOUDHOST=&quot;aws&quot; export MACHINE_TYPE=&quot;AWS&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;aws&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . So, I have referred to the specification and I have freely chosen to modify the . WEBSERVER_CHOICE to “NGINX” PHP_VERSION to “8.0” APPLICATION_IDENTIFIER to “1” DATABASE_INSTALLATION_TYPE to “Postgres” . So, editing /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.tmpl and using the values I recorded in my text file earlier, I modify the file as follows, the lines beginning with dashes have been modified . ############################################################################################### # Refer to: ${BUILD_HOME}/templatedconfigurations/specification.md ############################################################################################### export APPLICATION=&quot;joomla&quot; export JOOMLA_VERSION=&quot;4.0.4&quot; #MANDATORY - change this to the version you want to deploy, for example 4.0.3 set it to &quot;&quot; if you are deploying anything but joomla export DRUPAL_VERSION=&quot;&quot; #MANDATORY - change this to the version you want to deploy, for example, 9.2.6 set it to &quot;&quot; if you are deploying anything but drupal -export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;JOOMLA:4.0.4&quot; #MANDATORY #^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ # change this to, for example, JOOMLA:4.0.3 if you are deploying drupal (APPLICATION=joomla) # change this to, WORDPRESS if you are deploying wordpress # change this to, for example, DRUPAL:9.2.6 if you are deploying drupal (APPLICATION=drupal) # change this to, MOODLE if you are deploying moodle ############################################################################################# export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export S3_HOST_BASE=&quot;sos-ch-gva-2.exo.io&quot; #MANDATORY export S3_LOCATION=&quot;US&quot; #For aws, this always needs to be set to &quot;US&quot; export TOKEN=&quot;&quot; #NOT REQUIRED export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;&quot; #MANDATORY - You DNS secret key AAAAA export DNS_CHOICE=&quot;aws&quot; #MANDATORY - you will need to set your DNS nameservers according to this choice export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export BUILDOS=&quot;debian&quot; #MANDATORY one of ubuntu|debian export BUILDOS_VERSION=&quot;11&quot; #MANDATORY one of 20.04|10 11 export DEFAULT_USER=&quot;debian&quot; #MANDATORY - - This must be &quot;ubuntu&quot; if you are deploying ubuntu and &quot;debian&quot; if you are deploying debian export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_PROVIDER=&quot;github&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_PASSWORD=&quot;&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY export SYSTEM_EMAIL_PROVIDER=&quot;&quot; #MANDATORY export SYSTEM_TOEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_FROMEMAIL_ADDRESS=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_USERNAME=&quot;&quot; #MANDATORY export SYSTEM_EMAIL_PASSWORD=&quot;&quot; #MANDATORY export DIRECTORIES_TO_MOUNT=&quot;&quot; #This should always be unset for a virgin deployments export DB_PORT=&quot;2035&quot; export SSH_PORT=&quot;1035&quot; export GATEWAY_GUARDIAN=&quot;0&quot; export PRODUCTION=&quot;0&quot; export DEVELOPMENT=&quot;1&quot; export BUILD_CHOICE=&quot;0&quot; export WEBSERVER_CHOICE=&quot;NGINX&quot; export NO_AUTOSCALERS=&quot;1&quot; export NUMBER_WS=&quot;1&quot; export SUPERSAFE_WEBROOT=&quot;1&quot; export SUPERSAFE_DB=&quot;1&quot; export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #This should always be set to 0 for a virgin deployment export DISABLE_HOURLY=&quot;0&quot; export SERVER_TIMEZONE_CONTINENT=&quot;Europe&quot; export SERVER_TIMEZONE_CITY=&quot;London&quot; export BASELINE_DB_REPOSITORY=&quot;VIRGIN&quot; export BUILD_ARCHIVE_CHOICE=&quot;virgin&quot; export APPLICATION_LANGUAGE=&quot;PHP&quot; export APPLICATION_IDENTIFIER=&quot;1&quot;** export PHP_VERSION=&quot;8.0&quot;** export REGION=&quot;&quot; export REGION_ID=&quot;eu-west-1&quot; export DB_SIZE=&quot;t2.micro&quot; export DB_SERVER_TYPE=&quot;t2.micro&quot; export WS_SIZE=&quot;t2.micro&quot; export WS_SERVER_TYPE=&quot;t2.micro&quot; export AS_SIZE=&quot;t2.micro&quot; export AS_SERVER_TYPE=&quot;t2.micro&quot; export CLOUDHOST=&quot;aws&quot; export MACHINE_TYPE=&quot;AWS&quot; export ALGORITHM=&quot;rsa&quot; export USER=&quot;root&quot; export CLOUDHOST_USERNAME=&quot;root&quot; export CLOUDHOST_PASSWORD=&quot;&quot; export PUBLIC_KEY_NAME=&quot;AGILE_TOOLKIT_PUBLIC_KEY&quot; export PREVIOUS_BUILD_CONFIG=&quot;0&quot; export GIT_USER=&quot;Templated User&quot; export GIT_EMAIL_ADDRESS=&quot;templateduser@dummyemailZ123.com&quot; export INFRASTRUCTURE_REPOSITORY_PROVIDER=&quot;github&quot; export INFRASTRUCTURE_REPOSITORY_OWNER=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_USERNAME=&quot;agile-deployer&quot; export INFRASTRUCTURE_REPOSITORY_PASSWORD=&quot;none&quot; export DATASTORE_CHOICE=&quot;aws&quot; export SSL_GENERATION_METHOD=&quot;AUTOMATIC&quot; export SSL_GENERATION_SERVICE=&quot;LETSENCRYPT&quot; export BYPASS_DB_LAYER=&quot;0&quot; export DBaaS_HOSTNAME=&quot;&quot; export DBaaS_USERNAME=&quot;&quot; export DBaaS_PASSWORD=&quot;&quot; export DBaaS_DBNAME=&quot;&quot; export DATABASE_DBaaS_INSTALLATION_TYPE=&quot;&quot; export DBaaSDBSECURITYGROUP=&quot;&quot; export DBIP=&quot;&quot; export DBIP_PRIVATE=&quot;&quot; export WSIP=&quot;&quot; export WSIP_PRIVATE=&quot;&quot; export ASIP=&quot;&quot; export ASIP_PRIVATE=&quot;&quot; export APPLICATION_NAME=&quot;&quot; export MAPS_API_KEY=&quot;&quot; export PHP_MODE=&quot;&quot; export PHP_MAX_CHILDREN=&quot;&quot; export PHP_START_SERVERS=&quot;&quot; export PHP_MIN_SPARE_SERVERS=&quot;&quot; export PHP_MAX_SPARE_SERVERS=&quot;&quot; export PHP_PROCESS_IDLE_TIMEOUT=&quot;&quot; export IN_MEMORY_CACHING=&quot;&quot; export IN_MEMORY_CACHING_PORT=&quot;&quot; export IN_MEMORY_CACHING_HOST=&quot;&quot; export IN_MEMORY_CACHING_SECURITY_GROUP=&quot;&quot; export ENABLE_EFS=&quot;&quot; export SUBNET_ID=&quot;&quot; export AUTOSCALE_FROM_SNAPSHOTS=&quot;&quot; export GENERATE_SNAPSHOTS=&quot;&quot; export SNAPSHOT_ID=&quot;&quot; export WEBSERVER_IMAGE_ID=&quot;&quot; export AUTOSCALER_IMAGE_ID=&quot;&quot; export DATABASE_IMAGE_ID=&quot;&quot; export BUILD_HOME=&quot;/home/agile-deployer/agile-infrastructure-build-client-scripts&quot; export BUILD_CLIENT_IP=&quot;185.19.29.134&quot; export BUILD_IDENTIFIER=&quot;nuocial&quot; export PUBLIC_KEY_ID=&quot;AGILE_TOOLKIT_PUBLIC_KEY-nuocial&quot; . If all the dashes I have added are removed, then this file (with live values and not symbolic ones) would be ready for deployment. . . You should now be at a point where your build machine is running and configured ready to deploy Joomla in a virgin (or uncustomised) configuration. I will show you what this will likely look like in a video: . . Assuming that you have your Joomla application online now after following that video, what I would do if I wanted to build a Wordpress, Moodle or Drupal installation would be to follow the same procedure with the same template, but, minimally change the template as follows: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;WORDPRESS&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;2&quot; export DATABASE_INSTALLATION_TYPE=&quot;MySQL&quot; #I don&#39;t support Wordpress using Postgres . For Drupal: . export APPLICATION=&quot;drupal&quot; export DRUPAL_VERSION=&quot;9.2.6&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;DRUPAL:9.2.6&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;3&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;MOODLE&quot; #MANDATORY export APPLICATION_IDENTIFIER=&quot;4&quot; . So, you have a template now that you can use over and over again for deploying different installations of these CMS systems. You can study the spec and learn how to modify the template in order to change machine sizes, regions, PHP settings and so on. .",
            "url": "https://www.codebreakers.uk/adtawstutorialsexpeditedvirgin/",
            "relUrl": "/adtawstutorialsexpeditedvirgin/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post61": {
            "title": "AWS ADT Tutorials Expedited Temporal Joomla",
            "content": "YOU MUST HAVE THE MACHINES STILL RUNNING FROM THE PREVIOUS TUTORIAL TO COMPLETE THIS TUTORIAL SUCCESSFULLY . On your build machine, you need to now make temporal backups of your application sourcecode and your application database. You do this as follows: . cd /home/&lt;your username&gt;/agile-infrastructure-build-client-scripts/helperscripts . Then perform a temporal database backup . /bin/sh PerformDatabaseBackup.sh . Answering all of the questions and picking a periodicity, for example, HOURLY (make sure DISABLE_HOURLY=0) in your template . Then perform a temporal website sourcecode backup . /bin/sh PerformWebsiteBackup.sh . Making sure you pick the same periodicity as for the temporal database backup, for example, “HOURLY” . What we are then interested in is template 3 which is at: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws3.tmpl . I can extract the values for the following variables from template 1 or template 2 which I used in the previous tutorial and set them in template 3, replace these with your own live values: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws3.tmpl . to contain these values instead of its defaults. . I then need to set the template to use the temporal backups that I have generated and I do that by setting these values in template3: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export BUILD_CHOICE=&quot;2&quot; #MANDATORY 2=hourly, 3=daily, 4=weekly, 5=monthly, 6=bimonthly export BUILD_ARCHIVE_CHOICE=&quot;hourly&quot; #MANDATORY hourly, daily, weekly, monthly, bimonthly export PERSIST_ASSETS_TO_CLOUD=&quot;1&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;images&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . Shutdown any webservers that you have running from tutorial 2 and you are then ready to perform a temporal build, as shown below: . If all has gone according to plan, you will have seen a full deployment of your temporal backup. . . DEPLOYMENT USING MANAGED DATABASES . There’s something else to be aware of, if you want to deploy a managed DBaaS system instead of just using the one that is built in to the build process you can do that as detailed in this and this document . . DEPLOYMENT USING SNAPSHOTS . You can also build your webservers using snapshots that you generate and then use. You can read about how to perform snapshot builds here. . . OTHER APPLICATION TYPES . In order to do a temporaly build from backups you have made for a different application type (wordpress, drupal or moodle) you will need to alter the following variables in your template compared to what you have used above: . For Wordpress: . export APPLICATION=&quot;wordpress&quot; export DIRECTORIES_TO_MOUNT=&quot;wp-content.uploads&quot; . For Drupal: . export APPLICATION=&quot;drupal&quot; export DIRECTORIES_TO_MOUNT=&quot;sites.default.files&quot; . For Moodle: . export APPLICATION=&quot;moodle&quot; export DIRECTORIES_TO_MOUNT=&quot;moodledata.filedir&quot; .",
            "url": "https://www.codebreakers.uk/adtawstutorialsexpeditedtemporal/",
            "relUrl": "/adtawstutorialsexpeditedtemporal/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post62": {
            "title": "AWS ADT Tutorials Expedited Baseline Joomla",
            "content": "PREBUILD NECESSITIES . If you don’t already have a build machine running in the AWS cloud, follow these steps to get ready for the main build) . Begin by following this: Build Machine Setup . | At this point, your build machine should be up and running. Please review Tightening Build Machine Firewall. At this point, your build machine will only accept connections from your laptop. If you need access from other ip addresses you need to use the technique described in “Tightening Build Machine Firewall” to grant access to additional IP addresses. This will be the case every time your laptop changes its IP address as you travel about, so, you might want to setup and configure an S3 client on your laptop to enable you to grant access to new IP addresses easily. . | . EXPEDITED BUILD PROCESS . If you have followed the tutorial here, then you will have an active Joomla, or possibly Wordpress, Drupal or Moodle installation active through your web browser. What you need to do now is to customise your version of (Joomla) so that it is a specialised application for example a blog or a social network and so on. . What I have done for this tutorial is install a very simple application using a tool called “Community Builder” which you can find here: Community Builder. Literally all I have done is install the latest version (at the time) into my Joomla installation that I installed earlier. . The next thing I have to do is to generate a baseline of my application so that the baseline can be redeployed. A baseline is stored with whatever git provider you have set in your template when you made your deployment. In my case my git account is my “adt-demos” account with Github. . In order to create the baseline I am going to deploy, I need to do the following: . Choose a unique identifier for my baseline repositories, in this case I am going to call them, “communitybuilder” yours will be a different name. | Go to you git provider account console with your browser, in this case it is my “adt-demos” account with Github and create two private repositories: | communitybuilder-webroot-sourcecode-baseline communitybuilder-db-baseline . Once these two repositories have been created you are ready to make a baseline of the joomla install that you have modified. . To generate your baseline, you have to run two commands on your build machine. At the command prompt of your build machine cd into the helperscripts directory of your agile deployment toolkit installation. In my case it is like this: | cd /home/agile-deployer/agile-infrastructure-build-client-scripts/helperscripts . Once you are in that directory, you need to issue the command: . /bin/sh PerformWebsiteBaseline.sh . Once that starts running, you need to answer the questions you are prompted for entering, “communitybuilder” if you are prompted for an identifier. . In a minute or two your webiste baseline will have been generated and you should check in its repository that sourceode has been generated to it. . Now you need to generate a baseline of the database. To do that you need to issue the command: . /bin/sh PerformDatabaseBaseline.sh . If there is a prompt for an identifier, I enter “communitybuilder” and make very sure that the repository communitybuilder-db-baseline exists . In short order, my database is backed up to the Github repository and again, I should check that the repository I have chosen has been updated using the github console. . . My application baselines are now complete. The process for generating baselines is the same whichever application type you have built, Joomla, Wordpress, Drupal or Moodle. . The next step is to make a deployment of these baselines. So, if I have any webservers or databases running with my cloudhost, I need to take them off line (shut them down) and destroy them. . I am then interested in template 2 because that is the template that is used for deploying baselined application. If its not clear, template 1 is used for virgin CMS deployments, template 2 is used for baselined application deployments and template 3 is used for temporal deployments. . So, template 2 is located here on my build machine: . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl . I can copy the credentials that I need from the values that I set them to previously in template1. So, looking in template1, . /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws1.tmpl . I can extract the values for the following variables: . export S3_ACCESS_KEY=&quot;AAAAA&quot; #MANDATORY export S3_SECRET_KEY=&quot;BBBBB&quot; #MANDATORY export ACCESS_KEY=&quot;XXXXX&quot; #MANDATORY export SECRET_KEY=&quot;YYYYY&quot; #MANDATORY export DNS_USERNAME=&quot;testemail@testemail.com&quot; #MANDATORY export DNS_SECURITY_KEY=&quot;CCCCC:DDDDD&quot; #MANDATORY - This is your access key and your secret key, written: DNS_SECURITY_KEY=&quot;${ACCESS_KEY}:${SECRET_KEY}&quot; export CLOUDHOST_EMAIL_ADDRESS=&quot;testemail@testemail.com&quot; #MANDATORY export WEBSITE_DISPLAY_NAME=&quot;Test Social Network&quot; #MANDATORY export WEBSITE_NAME=&quot;testsocialnetwork&quot; #MANDATORY - This is the exact value of the core of your WEBSITE_URL, for example, www.nuocial.org.uk would be nuocial export WEBSITE_URL=&quot;www.testsocialnetwork.org.uk&quot; #MANDATORY export APPLICATION_REPOSITORY_OWNER=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_USERNAME=&quot;mytestgituser&quot; #MANDATORY export APPLICATION_REPOSITORY_TOKEN=&quot;KKKKK&quot; #MANDATORY . What I then do is adjust /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl to contain these values instead of its defaults. . With that done, because I used “Postgres” which from the file dbe.dat in the webroot of my baseline when I deployed Joomla originally, I need to make sure that I set the database to use as follows: . export DATABASE_INSTALLATION_TYPE=&quot;Postgres&quot; . There are some other values that I need to change in /home/agile-deployer/agile-infrastructure-build-client-scripts/templatedconfigurations/templates/aws/aws2.tmpl, as follows: . export APPLICATION=&quot;joomla&quot; #MANDATORY (joomla or wordpress or drupal or moodle) export APPLICATION_IDENTIFIER=&quot;1&quot; #MANDATORY (1 for joomla, 2 for wordpress, 3 for drupal, 4 for moodle) export BASELINE_DB_REPOSITORY=&quot;communitybuilder-db-baseline&quot; #MANDATORY export APPLICATION_BASELINE_SOURCECODE_REPOSITORY=&quot;communitybuilder-webroot-sourcecode-baseline&quot; #MANDATORY export PERSIST_ASSETS_TO_CLOUD=&quot;0&quot; #MANDATORY This should only be 0 if your application has a very small number of assets export DIRECTORIES_TO_MOUNT=&quot;&quot; #MANDATORY - this will define which directories in your webroot will be mounted from S3, if PERSIST_ASSETS_TO_CLOUD=1 . You can make any other adjustments you want like if you want to choose APACHE instead of NGINX or change the size of the machines (you can find out about such things in the specification). . With your baseline template fully configured, you are now ready to perform a baseline build (in other words, directly install a live application starting from zilch). That will look something like the following: . If you follow these steps, then, you will have a copy of your customised Joomla application running in the cloud. Leave the servers you have deployed running for use in the next tutorial in the series. .",
            "url": "https://www.codebreakers.uk/adtawstutorialsexpeditedbaseline/",
            "relUrl": "/adtawstutorialsexpeditedbaseline/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post63": {
            "title": "AWS ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR HARDCORE BUILDS: . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take on your laptop, take a copy of your userdata script that you should have previously generated from . ${BUILD_HOME}/agile-infrastructure-build-client-scripts/userdatascripts/${userdatascript}) . where ${userdatascript} is the name you have given to your userdata script. .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a security group for your build machine. You can do this as follows:     . Click on the security groups option of your aws GUI and click &quot;Create Security Group&quot; and call it **PRECISELY** &quot;adt-build-machine&quot; . . You can then see your new security Group “adt-build-machine” listed . 6) Add rules to the “adt-build-machine” security group to allow pinging and your build client to connect. . So you will need to add 3 rules 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with &quot;CIDR 111.111.111.111/32 1035&quot; 3) A rule to allow acccess to your build machines defined 22 to be world accessible because the AMI needs to be able to access your machine If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with &quot;CIDR 0.0.0.0/0 22&quot; . You can see in this image that port 1035 is be opened up to the ip address of my laptop 111.111.111.111/32 You can see in this image that port 22 is about to be opened up to the ip address of 0.0.0.0/0 . Save the security group and then you can see it listed: .     .     . 7) . You now need to start an EC2 instance picking a Debian or Ubuntu AMI in this case, Ubuntu 20.04 . .     . Select your machine size .     .     . Review your build machines configuration .     . Paste your userdata script you made a copy of and modified earlier into the userdata area (scroll down to the advanced area options) .     . Review and Launch your build machine . .       . . 8) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the AWS GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . Run through the commands as shown on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtawstutorialsbuildmachinehardcore/",
            "relUrl": "/adtawstutorialsbuildmachinehardcore/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post64": {
            "title": "AWS ADT Tutorials Build Machine Method",
            "content": "PRE BUILD PREPARATIONS FOR EXPEDITED AND FULL BUILDS: . Before performing an expedited or full build, you need to set up a build machine. The way you do this for AWS is as follows: . . 1) If you don’t have an SSH key pair or if you want a specific SSH key pair for your builds, issue the following command: .     . /usr/bin/ssh-keygen -t rsa .     . Your key will be saved to the indicated file, for example, /root/.ssh/id_rsa your path might be different such as /home/bob/.ssh/id_rsa . Issue the command (for example) .     . /bin/cat /root/.ssh/id_rsa.pub - this will be your &lt;ssh-public-key-substance&gt; .     This will give you your public key which you need later so, take a copy of the output that is printed to the screen. .       . . 2) Take a copy of the script: Initial Script .       . . 3) If you look into the script that you made a copy of in 2, you need to populate the following variables in your copy: .     . export BUILDMACHINE_USER=&quot;&quot; export BUILDMACHINE_PASSWORD=&quot;&quot; export BUILDMACHINE_SSH_PORT=&quot;&quot; export LAPTOP_IP=&quot;&quot; . export SSH= &quot; &quot; .     Now you need to decide on a username for your build machine, a password for your build machine, a port for your build machine’s ssh system and the IP address of your desktop or laptop. . If I decide on a username of “agile-deployer” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_USER=&quot;agile-deployer&quot; .     . If I decide on a password of “QQQPPPZZZMMM123098” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; .     . If you decide on an SSH_PORT of “1035” then in the copy that I made in 2, I need to change it as follows: .     . export BUILDMACHINE_SSH_PORT=&quot;1035&quot; .     . You need to give the script your laptop IP address. You can do this by going to https://www.whatsmyip.com and so, if your ip address is: “111.111.111.111” and pasting your ip address into your copy as follows: .     . export LAPTOP_IP=&quot;111.111.111.111&quot; .     . The public ssh key that you took a copy of in 1 needs to be pasted as follows: .     . export SSH= &quot;&lt;ssh-public-key-substance&gt; &quot; .     . The top part of the copy that you made in 2 will now look like this: .     . #!/bin/bash /bin/mkdir /root/logs OUT_FILE=&quot;webserver-build-out-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 1&gt;&gt;/root/logs/${OUT_FILE} ERR_FILE=&quot;webserver-build-err-`/bin/date | /bin/sed &#39;s/ //g&#39;`&quot; exec 2&gt;&gt;/root/logs/${ERR_FILE} ############################################################################################### # SET THESE FOR YOUR BUILD CLIENT MACHINE # THIS WILL NOT START A BUILD IT WILL JUST SETUP THE TOOLKIT # USE THIS IF YOU WANT TO PERFORM AN EXPEDITED OR A FULL BUILD FROM THE COMMAND LINE # ssh -i &lt;ssh-private-key&gt; -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildclientip&gt; # $BUILDCLIENT_USER&gt;sudo su # password:${BUILDCLIENT_PASSWORD} # cd agile-infrastructure-build-client-scripts/logs ################################################################################################# export BUILDMACHINE_USER=&quot;agile-deployer&quot; export BUILDMACHINE_PASSWORD=&quot;QQQPPPZZZMMM123098&quot; #Make sure any password you choose is strong enough to pass any strength enforcement rules of your OS export BUILDMACHINE_SSH_PORT=&quot;1035&quot; export LAPTOP_IP=&quot;111.111.111.111&quot; /bin/echo &quot; #BASE OVERRIDES export SSH= &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDEgqlNPY9uh6SpihNXm/7XGqOKvAcH8Z0Y6pZG9lTIm/PHI5VijIFqs0OzM3DPLFARtut7lojBoKq9ljBmKeVBGX5EkJ5O3CJfEZs9E13e2Qk+7F9wTmoMBG8XY4l/SmD9HddLTS/7Oadg+C4RDxHlSMrl1PSCdzlM14spHCI8rwUntNCUY+fObolqel0829zYDX0oEWzYyoIEUs1847X3cRp9+yZsjqSD5Nw9jacLcWjtdfClEvx5F8ZVm0+s5OLtz9cCf6NkOgYf3KFz+e8qAO/w83Umh5B2Gem1uOxSDtUmzVlRiMTfP6CTSKRnYRnkb97F9RZsmAsG6+g+eKvp root@penguin &quot; #paste your public key here The rest of the script will appear below here .       . . 4) Take a copy of this entire updated script and keep it safe because you will likely want to use this script multiple times in future deployments remember that anyone who has a copy of this script you have made has enough information to access the build machine you are going to deploy in a minute. .       . . 5) What you need to do now is to use this script to spin up your build machine and you will do this by pasting it into the user data area of your build machine. . You will need to create a security group for your build machine. You can do this as follows:     . Click on the security groups option of your aws GUI and click &quot;Create Security Group&quot; and call it **PRECISELY** &quot;adt-build-machine&quot; . . You can then see your new security Group “adt-build-machine” listed . 6) Add rules to the “adt-build-machine” security group to allow pinging and your build client to connect. . So you will need to add 3 rules 1) Ping 2) A rule to allow acccess to your build machines defined SSH_PORT from your laptop. If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with &quot;CIDR 111.111.111.111/32 1035&quot; 3) A rule to allow acccess to your build machines defined 22 to be world accessible because the AMI needs to be able to access your machine If you SSH_PORT is 1035 and your laptop IP is 111.111.111.111 then you will need a TCP rule with &quot;CIDR 0.0.0.0/0 22&quot; . You can see in this image that port 1035 is be opened up to the ip address of my laptop 111.111.111.111/32 You can see in this image that port 22 is about to be opened up to the ip address of 0.0.0.0/0 . Save the security group and then you can see it listed: .     .     . 7) . You now need to start an EC2 instance picking a Debian or Ubuntu AMI in this case, Ubuntu 20.04 . .     . Select your machine size .     .     . Review your build machines configuration .     . Paste your userdata script you made a copy of and modified earlier into the userdata area (scroll down to the advanced area options) .     . Review and Launch your build machine . .       . . 8) Once the machine has built you can access it as follows: .     . Discover what the machine&#39;s IP address is by looking at the AWS GUI system for the IP address of the build machine - In this case: 185.19.29.134 .     . Now on your laptop issue the command: .     . ssh -i /root/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . or yours might be: .     . ssh -i /home/${username}/.ssh/id_rsa -p ${BUILDCLIENT_SSH_PORT} $BUILDCLIENT_USER@&lt;buildmachineip&gt; .     . Once logged in to your build machine .     . sudo su [sudo] password for agile-deployer: .     . And then enter your build machine password .     . ${BUILDMACHINE_PASSWORD} .     . Run through the commands as shown on your laptop to access your build machine .     . . .",
            "url": "https://www.codebreakers.uk/adtawstutorialsbuildmachineexpedited/",
            "relUrl": "/adtawstutorialsbuildmachineexpedited/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post65": {
            "title": "Tutorials",
            "content": "Tutorial sets for the Agile Deployment Toolkit, organised by cloudhost provider . If you are new to this toolkit, pick which provider you want to use and then you can follow the tutorials to become familiar with how things work. . You will need to repeatedly reference the Specification throughout these tutorials. . . Digital Ocean Tutorials . | ExoscaleTutorials . | Linode Tutorials . | Vultr Tutorials . | AWS Tutorials . | Example Templates by Provider . | .",
            "url": "https://www.codebreakers.uk/tutorials/",
            "relUrl": "/tutorials/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post66": {
            "title": "The Technical Vision",
            "content": "THE STRUCTURAL VISION FOR TOWN A . What I am trying to achieve here is to treat fully featured applications as in essence “reusable” encapsulated components. What this means is that if a development team develops an application using a CMS, say Joomla, then using this toolkit that application can be deployed or “instantiated” as a reusable component at an application level. This is similar to how plugins and extensions are used as components within the CMS itself except the application itself is the component or the building block out of which business needs can be met in the same way that plugins or extensions are the reusable components out of which application needs can be met. The ultimate vision I have for this is that for a given town, you can deploy an encapsulated application or set of applications once for each postcode and then have people who live in that postcode join the community to get better organised at a local level. Lets use “Town A” as an example. You could have . postcode0.townAsocial.uk . postcode1.townAsocial.uk . postcode2.townAsocial.uk . postcode3.townAsocial.uk . postcode4.townAsocial.uk . postcode5.townAsocial.uk . And so on. You then have an umbrella or “registration website” which delegates to the appropriate encapsulated component website. So, the umbrella website might be www.townAsocial.uk can you see how that umbrella website would delegate to each of the encapsulated child websites deployed using the Agile Deployment Toolkit. Its not there yet (2021), but, this is ultimately what I am aiming for. . What this means is that you could have a set of techies who are running the postcode1 website, a set of techies running the postcode2 website and so on. So, in this way, each website would be like a franchised sub component which fits into the greater scheme. This ties in with the philosophy of devolving power back to the local level or “taking back control” because the idea of “taking back control” is that it moves away from these huge centralised and remote setups such as the enormous social networks that we have seen so far and makes it possible for each self contained and therefore (relatively) easily managed sub section of the greater system to operate. The techies that run postcode0 and other community support personnel wouldn’t need to know anything about the techies that run the postcode1, or the postcode2 subsection or subcomponent and yet they are tied together by the parent site www.townAsocial.uk. . What you could do is have representatives of the postcode1, the postcode2 and so on, websites, who are also then appointed members of a greater www.townASocial website which is only open to the annointed representatives of the child websites. These representatives can feed into the overarching website providing feedback and so on. In this way, it can help the people’s voice get heard. . The ADT is going to require some investment from you to be able to use. To be clear, did you expect to be able to drive your car first time, no, but, you put the effort into learning and once that effort is put in your life is better, so it is here. I think if you try out the ADT, you will see how it should be possible to make distinct deployments which all feed in to a bigger picture solution. As any designer will tell you, there’s two approaches to be able to structure a solution, the top down approach and the bottom up approach. The problem with the top down apporach is that you have the roof on before the foundations and that can be a huge source of problems and this solution is very much a bottom up approach, the very bottom in fact, and hopefully, that is what means that the foundation is the priority of it. From my point of view, I have made this as good as I can make it, but, its still going to have to be put through its paces in real world scenarios. I think what I have built is relatively strong, but, I’ll leave it to you to confirm that. . I think that’s the key vision that I had and I think you can see the structure that I am suggesting. In a lot of ways, this is the natural direction that Brexit was heading in which means giving up more central control for more local control and in so doing restore or rekindle a more bottom up approach to government. We have gone very big with our ideas forgetting that big things are made out of small parts. This toolkit is intended to be a little thing or a small part out of which it might be possible to build a greater structure and no so doing create or at least seed the idea of creating a technology based social skeleton so that we no longer live as social inveritbates. . The key innovation I want to stress here because it might seem to you that using a toolkit like this is “just a hosting solution”, but, actually, the key innovation is to be able to deploy a primed and ready “plug and play” 3rd party CMS application out of the box just by changing the configuration parameters provided to this toolkit. To deploy a completely different application, say a Wordpress blog instead of a Joomla social network, once you are set up, might be as simple as changing 5 or 6 configuration parameters and hitting “build”, now, to me that is quite powerful compared to some of the other solutions I have seen and is why I consider this a powertool. . Here is an example baselined application. I have done nothing to it except deploy it using the Agile Deployment Toolkit and so, the next thing you see after the ADT says “Build complete” is what you see in this video. Its in a private repository so it can’t be deployed by anyone, but, applications stored in public repositories or behind a paywall of some sort could be fully functional out of the box. Put it this way, if you tell the ADT install Joomla, it will install a virgin joomla if you tell it install application X it will install application X which can be reused in many different scenarios. .",
            "url": "https://www.codebreakers.uk/thevision/",
            "relUrl": "/thevision/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post67": {
            "title": "Roadmap",
            "content": "The Agile Deployment Toolkit is in beta and I have developed a proof of concept Joomla social networking application. Here are the steps that need to happen to make this project a success. It had the backing of the Slough Volunteer Centre (which shut due to austerity) and various charities in Slough who originally requested for me to build a system to help the vulnerable and disabled use computers more easily and safely because for such groups the major providers that we all know about were not very satisfactory, or, frankly safe, for inexperienced ones. . So, these are the steps which I judge need to take place for this software to flourish. . I need to deploy and run a small scale demo system which has a few tens of users on it and have them report back any issues such as performance issues and so on. These should be targetted individuals with a technical background who can see the potential in what I am trying to achieve here. Once the proof of concept website is up and running I will select people in my circle to join the community so that they can get a feel for what I am trying to achieve and use the demo for real. The demo site will be in no way a limit case to what can be achieved, interested ones can develop any application they choose, using the supported CMS systems. . | Once the proof of concept demo is a success the next step is to stress test it under heavier usage. What this would mean would be to have an “in house” team of at least hundreds to trial run the software as a full deployment. This “in house” team would need to understand that its a beta product and any difficulties would need to be worked through and that this would be a “demo” still and that it may or may not be online or functioning correctly at any particular time. This would extend the understanding of what I am trying to achieve here. . | Once the stress testing demo is a success, the idea would be to put a team of technical people who understand the toolkit and the application and begin to onboard people in a public setting who I believe will be able to see that this is a more thorough solution both in terms of accessibility and function than is currenly provided. There’s a lot of parts to it and there needs to be a discussion about how exactly this would be done, but, a thorough understanding of the ADT would be required by the techies charged with making a go of it. Assuming that the trial run (for a particular postcode, say, SL0, or SL1, or SL2, or SL3 or some other postcode, then it depending on staffing a second post code in the town could be selected and have its network started up) by a different set of techies. It could be set up such that in effect there would be different “franchises” of techies running applications for each specific postcode area, say, SL1, SL2 and so on. There needs to be clear procedures for onboarding people to the community because there will be no such thing as an anonymous person on this network and so that is a major security improvement because the larger networks are full of bad actors hiding behind some made up login name that hides who they are. It would make sense for example to integrate with government systems and have to have a goverment ID before you can be a member. . | For the actual toolkit going forward, its important to understand that there’s hundreds of applications which this toolkit can support and as such it takes a single developer (me) most probably about a month or maybe 2 months to integrate (and test) each application assuming that there’s no unexpected incompatibilities. What this means is that for me to integrate all these applications (such as NextCloud) for example, it would take me hundreds of months, and I might never live to see it to the end or at least I’d be walking with a zimmer frame before it is completed, but, if you put a hundred developers with the right skills on it, you can have this toolkit support hundreds of applications within lets be very pessimistic (6 months). So, basically my point is, I can only take this so far and that is what I have done it then needs to be cast loose, so that others can take it forward. It is in beta it is tested as thoroughly as I can test it, but, it is the nature of this software, and particularly this software, that maintenance and issues reporting are essential to its good function. For example, when Debian 12 and Ubuntu 24:04 are released the toolkit will have to be updated to suport them in order to stay up to date. Similarly if a particular application has a new release, for example, I had to make some changes in order to support Joomla 4 over Joomla 3, then there will most likely need to be updates to stay current with the particular application and so, its an ongoing process and way too much for one developer if there were to be more than 4 CMS systems and other application types supported. Beyond that I would like to integrate Java and Java Servlets into this toolkit and possibly Tomcat as well. There’s no reason why a product like Ruby couldn’t be supported as well. Basically its not in my hands its in the hands of how many other developers are interested in taking it forward. There’s all manner of PHP frameworks which could be supported as well and a battle hardened ADT I think would be quite a nifty way of deploying applications at scale. . |",
            "url": "https://www.codebreakers.uk/roadmap/",
            "relUrl": "/roadmap/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post68": {
            "title": "Background Philosophy",
            "content": "In “another life”, I was a consultant for a big IT outsourcing company used by the government for a lot of projects that they needed doing. The problem was the social disconnect. The users of the systems lived on a different planet to those of us building them. So, in order to be a “consultant with conviction”, I went to actually look, or, was led into looking by my intuitive self, to genuinely and deeply interact with the people that are end users of the systems as an end user of the systems so that I could actually advise based on experience rather than assumption. The old saying would be, “see if the chef will eat his own cooking” and that is what I essentially have been forced through and I noticed that my high paid consultant peers were very slow on the uptake to eat their own cooking and go through the same process of impoverishment which I have found is actually very enlightening. Its very very interesting psychologically the difference in the way that a person is perceived based on the position that they have massaged their way into in society. Do you have less to say when you are poor than when you are rich, actually you have more to say, so why is there a propensity to “listen to the rich man” and to “not listen to the poor man” its because in the stereotyped idea of success the poor man can’t have much worth listening to otherwise he would be the rich man and the irony of that is maybe he is. Its beyond comprehension that there might actually be higher ideals and more worthwhile pursuits than simply making money and judging that as what it means to be a success. . Anyway, in my direct experience, here’s some of what I found: . The assumption is that people who rely on government systems don’t have much to contribute. That’s a very misled and even arrogant assumption if you actually mix with such ones you would find out that they know more than you and that your assumptions about which end of society is the arse end is just that, an assumption, and, it depends on your social orientation bias not on what it actually is. That was my first lesson which I relay here. . | Secondly, we are moving into a technocracy and the problem is that the non technical people that I have worked with directly were often technologically disabled in the sense that they had no experience with technology which excludes them from the technology and therefore the technocracy. Most systems bolt on “accessibility” as an afterthought what I wanted to do is to build systems that have, or could have, accessibility at their core and therefore lower the barrier to entry to the technology that is available. If you think about it, if you are elderly with visual impairments, or, disabled with mental impairments, or, difficulties with the English language, these are all problems that I could see with highly complex systems. Someone with learning difficulties, or elderly, might not be able to use a complex social network, but, a very simple one with full accessibility features and simple design, they might be able to use and such a system would include them. So, what I wanted to do is build a system which enables the deployment of social applications, built by developers with the highest commitment to accessibility requirements, that can be deployed and redeployed easily. That is what the Agile Deployment Toolkit is about enabling or seeking to enable. It makes it possible to easily deploy simple social networks and other application types such as blogging tools that can be used by people who find the regular technologies a bit unwieldy. I can’t solve all problems and I have questions that need answered the same as anyone else does, but, ultimately, that is my finding and that is what I have (was asked to work on) and therefore have worked on with my support team as a volunteer. To make it very clear this is intended to be a grass roots or bottom up infrastructure enablement tool. Social inclusion requires acceptance of contributions from people irrespective of social status and this is my contribution. For more than 10 years I have had a burning desire to ultimately put together a blogging system where the voiceless elderly, the voiceless poor and the voiceless disabled can write or say how they feel about things. Its one of life’s tragedies that at death, lifetimes of experience are forgotten, maybe not for “that bloke” who you laud and cycophant around but for the anonymous irrelevants it is the case. Its not just the obvious heros that have something to say and those whose mouths lead their brains its the mailman who goes out to deliver the mail every day for 40 years, that in itself is stoic heroism. What if, what if, you are a regular Joe who has had non-ordinary experiences that would stagger the intellectual elite?, that would be worth hearing. . | Built for local people and run by local people. Something else I found is that we have this huge global thing going on and we don’t know who our neighbours are. If you have a problem with one of the big social networks it is next to impossible to get access to “support” because there’s billions of users and so on. If you have hyper local applications they can be run by people who actually live in the same town as you and by doing that, you can have direct access to the techs that run your community site. You can also specialise your applications specifically for the needs of your local community. More than that, in hyperlocal communities focussed on local issues you can vet who can join your network, thus considerably improving security. If you have networks where you have to be a local do join, then, you can focus on the immediate issues in your own community and that makes you stronger. In a social networking enviroment where everyone is vetted, it considerably improves the safety of any vulnerable people within that network. In fact, I would recommend that rather than calling it “social networking” in this case, I would call it “support networking” and this might be very important to all of us in the “no man is an island” or “we all need each other society”. I have known of people who have had life devastating experiences online when they become more or less “online sitting ducks” and I wanted to do something about that by providing more controlled social networks. . | The challenge was to build something useful without much money. Purity of motivation means that you do it for the love of it and not just for the money, so, this is not a big budget attempt here, in fact, there is hardly any budget at all, but, consider that that is what keeps it as pure as possible? . | Another simple philosophy I learnt the hard way is that this is a team effort. Nobody wants to see some bloke at the top of the mountain whilst there are others who are at base camp and that is kind of what has happened with technology. There are people who are at the top of the technology mountain and pushing on further still, I was heading in that direction, but, I got pulled out of that path and had to descend back down to mix and help people who had no technical knowledge at all and that is what you learn, if we are going to become a technocracy we do it together and all of us have a duty to make sure that we do it as a whole team and not as a few gung-ho intrepids. So, what I wanted to do is use some of my technology potential to build software that has the potential to include those who were previously excluded. That is functioning as a team and until we do, we won’t make it home (psychologically). You see, once God shows up, He makes it clear to you that your idea of who and who isn’t important might not be the same as His idea of who is and who isn’t important. That’s a tough lesson. . | On a grand scale, and, this is philosophical and practical, there are two ways to run governments, centralised and decentralised. We can all see that governments are struggling and its no wonder, they are only human still. The point of decentralisation (which is what this toolkit (and dare I say it Brexit)) are about is about redressing the power vacuum that monolithic centralied institutions leave at a local level. In other words, if you use a toolkit like this, or, something similar to organise locally that’s as effective a way of governing as anything that is centralised into power titan control systems. In essence, there is a happy medium, kinda not UK, kinda not EU, but more like EUK and that involves hyper local projects and without wanting to undo the government in any way, I think we can all see that if there are tools which can help with local organisation that that is not only good for communities but it is also good for governments. If you do run your social networks locally, then, you have more capacity to monitor what is happening with it. The whole point is that there is no centralisation of anything here, what I have written as a toolkit is just a tool that can be used in the process of leveraging more local influence over the process of social organisation. . | Untapped power base. Maybe I am a freak case, but, have you ever considered that “none of us have all of the answers but, we all have some of them?”. What this means is that we might be struggling because we just assumed that some sections of society have the answers (universities, schools, companies) and other sections don’t, (the elderly, mental health patients and criminals). Is it beneath us to actually come down off our high horses, like I have, and make it so that we are open to what others have to say even if perhaps we assumed that we only had things to tell them and they didn’t have anything to tell us? If we start including everyone then we find that everyone has something to add to the mix and if we think they don’t we are not being wholly or wholesome people. The recommendation from dieticians is that in a multi-cultural society everyone eats whole-meal bread in other words, it is recognised that God gives some of the answers to all of the people and not all of the answers to some of the people as it can sometimes look. I am waiting on answers as much as anybody else is its just I might have different questions to you. . | To sum up my learnt philosophy then, I want to build hyper local applications that can be repeatedly deployed, make those applications as good as possible by having the very best CMS based talent develop them with accessibility in mind and have a consistent process for deploying the same application multiple times, for example, for town A, town B, town C and so on. If my work meets your standards, I would encourage you to take the time to use it and perhaps even take the time to extend it. If you are a techie, I think its quite an interesting code base to work on and as I mentioned there’s a very long list of PHP applications that it could be extended to support because at the moment it ony supports four, Joomla, Wordpress, Drupal and Moodle. I am also interested in extending the toolkit to supoort Java Servlets and maybe even Tomcat and maybe even Clustered Tomcat installations (using the database for session persistence). .",
            "url": "https://www.codebreakers.uk/backgroundphilosophy/",
            "relUrl": "/backgroundphilosophy/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post69": {
            "title": "The Agile Deployment Toolkit",
            "content": "Toolkit Main Code Repositories . Agile Deployment Toolkit Build Client Repository Agile Deployment Toolkit Autoscaler Repository Agile Deployment Toolkit Webserver Repository Agile Deployment Toolkit Database Repository . Toolkit Description . Introduction . Tech Overview . Background Philosophy . The Vision . Tutorials . Roadmap .",
            "url": "https://www.codebreakers.uk/agiledeploymenttoolkit/",
            "relUrl": "/agiledeploymenttoolkit/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post70": {
            "title": "The Agile Deployment Toolkit Tech Overview",
            "content": "Fully automated virgin server configuration and deployment with sensible default webserver and database configuration settings with best practice security guidelines baked in. . | Flexible deployment options - number of webservers to be used for a deployment when in production mode with a single webserver development mode, for when you are developing your application. . | In built resilient and scalable architecture including flexible time based scaling to accommodate increased or decreased capacity . | Option to use “self managed” databases or to use managed as a service databases from a 3rd party (DBaaS) . | Moderate learning curve for usage . | Support for deployment to multiple cloud hosts. Currently, Digital Ocean, Exoscale, Linode, Vultr and AWS. If you develop a problem or issue with the cloud host you have deployed to, simply perform a frictionless redeploy to another of the supported VPS cloud host providers . | Easily choose the machine sizes that you want to deploy to, depending on what capacity you need . | Deploy to Ubuntu or Debian with extensibility of the scripts to other flavours of Linux taken into consideration . | Automated “double” backups . | Easy inbuilt SMTP configuration for your application . | Several supported application types - Joomla, Wordpress, Drupal, Moodle and with a little work, further application types can be added . | Built with general extensibility in mind so that scripts are easy to extend . | Free to use, free to extend . | Choice to use Cloud-flare as your DNS service provider for increased security . | Easy command line access to your servers (no faff) . | Choice of webservers to use, NGINX, APACHE, LIGHTTPD . | Current support for PHP based applications, but, with potential to be extended to support other languages . | Ability to store application assets in the cloud which saves disk capacity (and cost) on your server machines . | Choice of self managed databases to use, currently, MariaDB, MySQL or Postgres . | Ability to deploy your own mailservers using iRedmail . | Status messages deliverable by email during system operation . | The Agile Deployment Toolkit is designed to have a core of functionality, which can be thoroughly tested and well maintained, but, it is also designed to be extensible outside of the core so that it is flexible enough to support an arbitrary set of solutions as are required by the users of the toolkit. . | .",
            "url": "https://www.codebreakers.uk/agiledeploymenttoolkittechoverview/",
            "relUrl": "/agiledeploymenttoolkittechoverview/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post71": {
            "title": "Open Positions",
            "content": "There is an old saying “start as you mean to go on” and for a lot of startups, often they start without much cash and then they get some cash and they lose site of old wisdom and change how they operate thinking they are on to a good thing. My objective here is to work as “cash free” as possible for as long as possible and to make that the ethos. This approach doesn’t come without challenges because as soon as you approach most people about putting some work in the first question is, “How much are you paying mate?” which can be a blocker because as far as the word on the street goes, “more money good, less money, bad”, but, there’s a lot of grey area in there and you can discover that for yourself. So, to be very clear, you can’t get blood out of a stone and so, if I haven’t got money I can’t pay you money, can I, but, that is not the same as there not being anything in it for you at all. If you haven’t noticed we have gone very cellular. For a lot of us our houses are like little palaces, our luxury cells, and yet when we step outside of our front doors, society is decaying very badly. This means that as our nests get more comfortable society gets more uncomfortable and this means is that ultimately there is a naturally reactive and counterbalancing process of communities becoming more social rather than cellular and me dedicating my life to this is a natural reaction to the mutant culture that has developed and is in play at the moment. That’s not to be judgemental its just to make a point that there’s only so much comfort to go around and when we have more personal comfort it means less social comfort. So, I want you to ask a different question, not, “what is in this for me”, but, “what is in this for society”. Maybe there’s nothing in it. maybe my work is a crock of shit, but, then again, maybe it isn’t, lets find out? . I used to be a pro but I got promoted to being an amateur about 20 years ago and that is when the real work started. Amateur comes from the French word “amour” which means “for the love of” and this is a fundamental difference, as a rule a pro does it for the love of money which is undeniable a very powerful motivator in the mind, but, an amateur does it for the love of the art itself. We don’t live in a an amateur society, by and large, and the enforced wisdom is “pros are very proficient (not some of the cowboys I’ve seen aren’t) and you take a risk with an amateur”. This however is a psychiatrc coup that people are beginning to fight off, not just me, more and more people are realising it. Working as an amateur you care about what you do as if it was your child, it might be a bad child it might not work it might have problems, but, its still your child and you love it, as a pro you care about “when is it pay day” and that’s the difference. Be open to the idea that with a little bit of self belief and faith, miracles can happen and that’s the “power of love or amour”. . As a first step then, these unpaid positions are open withing codebreakers. . 1) Linux deployment specialists with knowledge of the Linux shell and cloud host environments for help with developing the agile deployment toolkit: ADT . 2) Application testers - people willing to test applications deployed using the ADT. . 3) Application developers - people willing to develop applications using the latest CMS systems deployed using the ADT such as Joomla, Wordpress and Drupal. . 4) Application deployers - people willing to learn how the ADT works (the ADT is a DMS (Deployment Management System) and it is similar to the amount of effort you would put in to learning a CMS but for deployment rather than content). .",
            "url": "https://www.codebreakers.uk/openpositions/",
            "relUrl": "/openpositions/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post72": {
            "title": "Introduction",
            "content": "Agile Deployment Toolkit . Is shared hosting not the ideal solution for your web hosting? . | Do you want to have your own set of configured VPS servers but do not want to spend the time configuring and deploying software on them? . | Do you want to have consistent security processes baked in to your server deployments? . | Would you like to be able to redeploy to a different (supported) VPS host easily - within 20 minutes or so if needed? . | Does automated server configuration with the latest releases of software included for each deployment sound attractive? . | Would you like a low barrier to entry solution using nothing but basic scripting techniques? . | . Then you might be interested in the Agile Deployment Toolkit which currently supports Joomla, Wordpress, Moodle and Drupal CMS applications. . . MOTIVATION: You can find lots of tutorials online which show how to install and configure server machines using products such as Apache, Nginx, Mysql, Postgres and so on. Following these tutorials to build your own server system is time consuming and possibly error prone if, for example, you don’t remember to do everything with regard to security when you build your server, you could have problems. Because for most of the systems that I want to deploy a common architecture is possible, what I decided to do was write some scripts for my own use and which I share here which would automate the building of my servers in a consistent and predictable way. Using my software, popular CMS systems can be deployed starting from scratch with brand new VPS machines in minutes rather than possibly hours or even days providing nothing to the scripts but configuration parameters. For some people, this solution might be a good fit for their server deployments rather than having to follow tutorials and so on. There are alternative “infrastructure as code” methods but my approach is a bit more traditional. With this method, you still have full access to your VPS systems to tinker with the configuration, or, you could modify the scripts directly to attain an “other than default” configuration for your server systems. This approach has application backups and so on built in and the scripts are written to be extensible by anyone. . You can deploy to any one of several major cloud providers according to your needs. This toolkit uses the term “agile” to indicate that it’s easy to redeploy to another one of the supported cloudhosts should your current cloudhost not support your needs at any point in time- in an agile way. This toolkit is ideal for anyone who wants to investigate how to, or is a student of how to run their own server systems. It gives a unique, consistent way of server deployment which can be reviewed, tweaked and understood in the same way that car enthusiasts might review, tweak and understand the inner workings of their cars. The intention is to use this for serious systems, but, learners or students might find it of benefit if they want to experiment with server configurations and so on. . Many VPS providers out there, don’t necessarily have clear processes for deploying scalable CMS systems in a manner in which you as a developer retain full control, so, maybe, if that’s the case, this might help. This toolkit is built from the ground up to be extensible so, if you have a use case or requirement that it doesn’t fulfil, you are welcome to fork the repositories and extend as your needs demand, if, for example, you wanted to support “Cake PHP” or some other framework its quite possible to “fork and extend”. There’s many many PHP applications out there and almost certainly with appropriate extensions to support these applications it should be possible that they can be deployed and operated at scale. The design pattern of this toolkit essentially akin to a CMS system’s design in that I write and maintain a core set of scripts and other developers, if they choose to, can extend the scripts to meet additional needs or requirements. The ultimate aim is to be able to treat whole applications as “out of the box” solutions. . OBJECTIVE: To provide a well written and designed toolkit which facilitates repeated bespoke CMS application deployments to various VPS providers with customised branding using nothing but command line configuration options. . . Below is a list of VPS cloud hosts that this toolkit currently supports. . . . Digital Ocean is a cloudhost that is simple to use and global. They also provide managed databases and so on, so their service offering is growing. .         . . . Exoscale is a Swiss cloudhost, so, if you like the idea of being with a Europe centric cloudhost because their datacentres are either in Switzerland or elsewhere in Europe. .         . . . Linode is a cloudhost from the US with global reach. Again, their interfaces are simple and their service offerings are expanding. .         . . . Vultr are a smart cloudhosting company. They seem particularly strong on security to me with processes and so on in place to make sure that things are tied down in terms of security. .         . . . AWS is the world’s largest cloudhost. It also provides a plethora of services such as managed databases and so on which means that your application will be well served if you deploy here.         . .",
            "url": "https://www.codebreakers.uk/introduction/",
            "relUrl": "/introduction/",
            "date": " • Nov 1, 2021"
        }
        
    
  
    
        ,"post73": {
            "title": "An Example Markdown Post",
            "content": "Example Markdown Post . Basic setup . Jekyll requires blog post files to be named according to the following format: . YEAR-MONTH-DAY-filename.md . Where YEAR is a four-digit number, MONTH and DAY are both two-digit numbers, and filename is whatever file name you choose, to remind yourself what this post is about. .md is the file extension for markdown files. . The first line of the file should start with a single hash character, then a space, then your title. This is how you create a “level 1 heading” in markdown. Then you can create level 2, 3, etc headings as you wish but repeating the hash character, such as you see in the line ## File names above. . Basic formatting . You can use italics, bold, code font text, and create links. Here’s a footnote 1. Here’s a horizontal rule: . . Lists . Here’s a list: . item 1 | item 2 | . And a numbered list: . item 1 | item 2 | Boxes and stuff . This is a quotation . . You can include alert boxes …and… . . You can include info boxes Images . . Code . You can format text and code per usual . General preformatted text: . # Do a thing do_thing() . Python code and output: . # Prints &#39;2&#39; print(1+1) . 2 . Formatting text as shell commands: . echo &quot;hello world&quot; ./some_script.sh --option &quot;value&quot; wget https://example.com/cat_photo1.png . Formatting text as YAML: . key: value - another_key: &quot;another value&quot; . Tables . Column 1 Column 2 . A thing | Another thing | . Tweetcards . Altair 4.0 is released! https://t.co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t.co/roXmzcsT58 ...read on for some highlights. pic.twitter.com/vWJ0ZveKbZ . &mdash; Jake VanderPlas (@jakevdp) December 11, 2019 Footnotes . This is the footnote. &#8617; . |",
            "url": "https://www.codebreakers.uk/2020/01/14/test-markdown-post.html",
            "relUrl": "/2020/01/14/test-markdown-post.html",
            "date": " • Jan 14, 2020"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "My Github is at: Agile Deployer .",
          "url": "https://www.codebreakers.uk/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  

  

  

  

  
  

  
      ,"page14": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://www.codebreakers.uk/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}